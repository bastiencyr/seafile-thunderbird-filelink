(()=>{var e={963:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},7:(e,r,t)=>{var n=t(286);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},50:(e,r,t)=>{var n=t(741),i=t(797),s=t(508),a=t(875),o=t(886);e.exports=function(e,r){var t=1==e,u=2==e,p=3==e,d=4==e,l=6==e,v=5==e||l,c=r||o;return function(r,o,h){for(var f,m,y=s(r),g=i(y),k=n(o,h,3),_=a(g.length),q=0,w=t?c(r,_):u?c(r,0):void 0;_>q;q++)if((v||q in g)&&(m=k(f=g[q],q,y),e))if(t)w[q]=m;else if(m)switch(e){case 3:return!0;case 5:return f;case 6:return q;case 2:w.push(f)}else if(d)return!1;return l?-1:p||d?d:w}}},736:(e,r,t)=>{var n=t(286),i=t(302),s=t(314)("species");e.exports=function(e){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)||(r=void 0),n(r)&&null===(r=r[s])&&(r=void 0)),void 0===r?Array:r}},886:(e,r,t)=>{var n=t(736);e.exports=function(e,r){return new(n(e))(r)}},32:e=>{var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},645:e=>{var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},741:(e,r,t)=>{var n=t(963);e.exports=function(e,r,t){if(n(e),void 0===r)return e;switch(t){case 1:return function(t){return e.call(r,t)};case 2:return function(t,n){return e.call(r,t,n)};case 3:return function(t,n,i){return e.call(r,t,n,i)}}return function(){return e.apply(r,arguments)}}},355:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},57:(e,r,t)=>{e.exports=!t(253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},457:(e,r,t)=>{var n=t(286),i=t(816).document,s=n(i)&&n(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},985:(e,r,t)=>{var n=t(816),i=t(645),s=t(728),a=t(234),o=t(741),u="prototype",p=function(e,r,t){var d,l,v,c,h=e&p.F,f=e&p.G,m=e&p.S,y=e&p.P,g=e&p.B,k=f?n:m?n[r]||(n[r]={}):(n[r]||{})[u],_=f?i:i[r]||(i[r]={}),q=_[u]||(_[u]={});for(d in f&&(t=r),t)v=((l=!h&&k&&void 0!==k[d])?k:t)[d],c=g&&l?o(v,n):y&&"function"==typeof v?o(Function.call,v):v,k&&a(k,d,v,e&p.U),_[d]!=v&&s(_,d,c),y&&q[d]!=v&&(q[d]=v)};n.core=i,p.F=1,p.G=2,p.S=4,p.P=8,p.B=16,p.W=32,p.U=64,p.R=128,e.exports=p},253:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},18:(e,r,t)=>{e.exports=t(825)("native-function-to-string",Function.toString)},816:e=>{var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},181:e=>{var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},728:(e,r,t)=>{var n=t(275),i=t(681);e.exports=t(57)?function(e,r,t){return n.f(e,r,i(1,t))}:function(e,r,t){return e[r]=t,e}},734:(e,r,t)=>{e.exports=!t(57)&&!t(253)((function(){return 7!=Object.defineProperty(t(457)("div"),"a",{get:function(){return 7}}).a}))},797:(e,r,t)=>{var n=t(32);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},302:(e,r,t)=>{var n=t(32);e.exports=Array.isArray||function(e){return"Array"==n(e)}},286:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},461:e=>{e.exports=!1},275:(e,r,t)=>{var n=t(7),i=t(734),s=t(689),a=Object.defineProperty;r.f=t(57)?Object.defineProperty:function(e,r,t){if(n(e),r=s(r,!0),n(t),i)try{return a(e,r,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[r]=t.value),e}},681:e=>{e.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}},234:(e,r,t)=>{var n=t(816),i=t(728),s=t(181),a=t(953)("src"),o=t(18),u="toString",p=(""+o).split(u);t(645).inspectSource=function(e){return o.call(e)},(e.exports=function(e,r,t,o){var u="function"==typeof t;u&&(s(t,"name")||i(t,"name",r)),e[r]!==t&&(u&&(s(t,a)||i(t,a,e[r]?""+e[r]:p.join(String(r)))),e===n?e[r]=t:o?e[r]?e[r]=t:i(e,r,t):(delete e[r],i(e,r,t)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[a]||o.call(this)}))},825:(e,r,t)=>{var n=t(645),i=t(816),s="__core-js_shared__",a=i[s]||(i[s]={});(e.exports=function(e,r){return a[e]||(a[e]=void 0!==r?r:{})})("versions",[]).push({version:n.version,mode:t(461)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},717:(e,r,t)=>{"use strict";var n=t(253);e.exports=function(e,r){return!!e&&n((function(){r?e.call(null,(function(){}),1):e.call(null)}))}},467:e=>{var r=Math.ceil,t=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?t:r)(e)}},875:(e,r,t)=>{var n=t(467),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},508:(e,r,t)=>{var n=t(355);e.exports=function(e){return Object(n(e))}},689:(e,r,t)=>{var n=t(286);e.exports=function(e,r){if(!n(e))return e;var t,i;if(r&&"function"==typeof(t=e.toString)&&!n(i=t.call(e)))return i;if("function"==typeof(t=e.valueOf)&&!n(i=t.call(e)))return i;if(!r&&"function"==typeof(t=e.toString)&&!n(i=t.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},953:e=>{var r=0,t=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+t).toString(36))}},314:(e,r,t)=>{var n=t(825)("wks"),i=t(953),s=t(816).Symbol,a="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=a&&s[e]||(a?s:i)("Symbol."+e))}).store=n},336:(e,r,t)=>{"use strict";var n=t(985),i=t(50)(0),s=t(717)([].forEach,!0);n(n.P+n.F*!s,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},774:(e,r,t)=>{var n=t(985);n(n.S,"Array",{isArray:t(302)})},371:(e,r,t)=>{"use strict";var n=t(985),i=t(50)(1);n(n.P+n.F*!t(717)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},59:(e,r,t)=>{var n=t(275).f,i=Function.prototype,s=/^\s*function ([^ (]*)/,a="name";a in i||t(57)&&n(i,a,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},388:(e,r,t)=>{var n=t(985);n(n.S+n.F*!t(57),"Object",{defineProperty:t(275).f})},230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},296:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SeafileAPI=void 0,t(774),t(336),t(59),t(371),t(388);var n=s(t(218)),i=s(t(230));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,t;return r=e,t=[{key:"init",value:function(e){var r=e.server,t=e.username,i=e.password,s=e.token;return this.server=r,this.username=t,this.password=i,this.token=s,this.token&&this.server&&(this.req=n.default.create({baseURL:this.server,headers:{Authorization:"Token "+this.token}})),this}},{key:"initForSeahubUsage",value:function(e){var r=e.siteRoot,t=e.xcsrfHeaders;if(r&&"/"===r.charAt(r.length-1)){var i=r.substring(0,r.length-1);this.server=i}else this.server=r;return this.req=n.default.create({headers:{"X-CSRFToken":t}}),this}},{key:"_sendPostRequest",value:function(e,r){return r.getHeaders?this.req.post(e,r,{headers:r.getHeaders()}):this.req.post(e,r)}},{key:"getToken",value:function(){var e=this,r=this.server+"/api2/auth-token/";n.default.post(r,{username:this.username,password:this.password}).then((function(r){return e.token=r.data,e.token}))}},{key:"getAuthTokenBySession",value:function(){var e=this.server+"/api/v2.1/auth-token-by-session/";return this.req.get(e)}},{key:"createAuthTokenBySession",value:function(){var e=this.server+"/api/v2.1/auth-token-by-session/";return this.req.post(e)}},{key:"deleteAuthTokenBySession",value:function(){var e=this.server+"/api/v2.1/auth-token-by-session/";return this.req.delete(e)}},{key:"login",value:function(){var e=this,r=this.server+"/api2/auth-token/";return n.default.post(r,{username:this.username,password:this.password}).then((function(r){e.token=r.data.token,e.req=n.default.create({baseURL:e.server,headers:{Authorization:"Token "+e.token}})}))}},{key:"authPing",value:function(){var e=this.server+"/api2/auth/ping/";return this.req.get(e)}},{key:"getAccountInfo",value:function(){var e=this.server+"/api2/account/info/";return this.req.get(e)}},{key:"listDepartments",value:function(){var e=this.server+"/api/v2.1/departments/";return this.req.get(e)}},{key:"listGroups",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r={with_repos:e?1:0},t=this.server+"/api/v2.1/groups/";return this.req.get(t,{params:r})}},{key:"listGroupRepos",value:function(e,r,t){var n=this.server+"/api/v2.1/groups/"+e+"/libraries/",i={};return null!=r&&(i.page=r),null!=t&&(i.per_page=t),this.req.get(n,{params:i})}},{key:"getGroup",value:function(e){var r=this.server+"/api/v2.1/groups/"+e+"/";return this.req.get(r)}},{key:"createGroup",value:function(e){var r=this.server+"/api/v2.1/groups/",t=new i.default;return t.append("name",e),this._sendPostRequest(r,t)}},{key:"renameGroup",value:function(e,r){var t=this.server+"/api/v2.1/groups/"+e+"/",n={name:r};return this.req.put(t,n)}},{key:"deleteGroup",value:function(e){var r=this.server+"/api/v2.1/groups/"+e+"/";return this.req.delete(r)}},{key:"transferGroup",value:function(e,r){var t=this.server+"/api/v2.1/groups/"+e+"/",n={owner:r};return this.req.put(t,n)}},{key:"quitGroup",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api/v2.1/groups/"+e+"/members/"+t+"/";return this.req.delete(n)}},{key:"listGroupMembers",value:function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:64,s=this.server+"/api/v2.1/groups/"+e+"/members/",a={page:r||1,per_page:t||100,is_admin:n,avatar_size:i};return this.req.get(s,{params:a})}},{key:"searchGroupMember",value:function(e,r){var t=this.server+"/api/v2.1/groups/"+e+"/search-member/",n={q:r};return this.req.get(t,{params:n})}},{key:"addGroupMember",value:function(e,r){var t=this.server+"/api/v2.1/groups/"+e+"/members/",n={email:r};return this.req.post(t,n)}},{key:"addGroupMembers",value:function(e,r){var t=this.server+"/api/v2.1/groups/"+e+"/members/bulk/",n=new i.default;return n.append("emails",r.join(",")),this._sendPostRequest(t,n)}},{key:"importGroupMembersViaFile",value:function(e,r){var t=this.server+"/api/v2.1/groups/"+e+"/members/import/",n=new i.default;return n.append("file",r),this._sendPostRequest(t,n)}},{key:"deleteGroupMember",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api/v2.1/groups/"+e+"/members/"+t+"/";return this.req.delete(n)}},{key:"setGroupAdmin",value:function(e,r,t){var n=encodeURIComponent(r),i=this.server+"/api/v2.1/groups/"+e+"/members/"+n+"/",s={is_admin:t};return this.req.put(i,s)}},{key:"createGroupOwnedLibrary",value:function(e,r){var t=r.repo_name,n=r.permission?r.permission:"rw",s=this.server+"/api/v2.1/groups/"+e+"/group-owned-libraries/",a=new i.default;return a.append("name",t),r.passwd&&a.append("passwd",r.passwd),a.append("permission",n),r.library_template&&a.append("library_template",r.library_template),this._sendPostRequest(s,a)}},{key:"deleteGroupOwnedLibrary",value:function(e,r){var t=this.server+"/api/v2.1/groups/"+e+"/group-owned-libraries/"+r+"/";return this.req.delete(t)}},{key:"renameGroupOwnedLibrary",value:function(e,r,t){var n=this.server+"/api/v2.1/groups/"+e+"/group-owned-libraries/"+r+"/",s=new i.default;return s.append("name",t),this.req.put(n,s)}},{key:"shareGroupOwnedRepoToUser",value:function(e,r,t,n){var s=this.server+"/api/v2.1/group-owned-libraries/"+e+"/user-share/",a=new i.default;return a.append("permission",r),a.append("path",n),Array.isArray(t)?t.forEach((function(e){a.append("username",e)})):a.append("username",t),this._sendPostRequest(s,a)}},{key:"modifyGroupOwnedRepoUserSharedPermission",value:function(e,r,t,n){var s=this.server+"/api/v2.1/group-owned-libraries/"+e+"/user-share/",a=new i.default;return a.append("permission",r),a.append("username",t),a.append("path",n),this.req.put(s,a)}},{key:"deleteGroupOwnedRepoSharedUserItem",value:function(e,r,t){var n=this.server+"/api/v2.1/group-owned-libraries/"+e+"/user-share/",i={username:r,path:t};return this.req.delete(n,{data:i})}},{key:"shareGroupOwnedRepoToGroup",value:function(e,r,t,n){var s=this.server+"/api/v2.1/group-owned-libraries/"+e+"/group-share/",a=new i.default;return a.append("permission",r),a.append("path",n),Array.isArray(t)?t.forEach((function(e){a.append("group_id",e)})):a.append("group_id",t),this._sendPostRequest(s,a)}},{key:"modifyGroupOwnedRepoGroupSharedPermission",value:function(e,r,t,n){var s=this.server+"/api/v2.1/group-owned-libraries/"+e+"/group-share/",a=new i.default;return a.append("permission",r),a.append("group_id",t),a.append("path",n),this.req.put(s,a)}},{key:"deleteGroupOwnedRepoSharedGroupItem",value:function(e,r,t){var n=this.server+"/api/v2.1/group-owned-libraries/"+e+"/group-share/",i={group_id:r,path:t};return this.req.delete(n,{data:i})}},{key:"listUserShareLinks",value:function(){var e=this.server+"/api/v2.1/share-links/";return this.req.get(e)}},{key:"getShareLink",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api/v2.1/share-links/?repo_id="+e+"&path="+t;return this.req.get(n)}},{key:"createShareLink",value:function(e,r,t,n,s){var a=this.server+"/api/v2.1/share-links/",o=new i.default;return o.append("path",r),o.append("repo_id",e),s&&o.append("permissions",s),t&&o.append("password",t),n&&o.append("expiration_time",n),this._sendPostRequest(a,o)}},{key:"updateShareLink",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=this.server+"/api/v2.1/share-links/"+e+"/",s=new i.default;return r&&s.append("permissions",r),t&&s.append("expiration_time",t),this.req.put(n,s)}},{key:"deleteShareLink",value:function(e){var r=this.server+"/api/v2.1/share-links/"+e+"/";return this.req.delete(r)}},{key:"cleanOrphanShareLinks",value:function(){var e=this.server+"/api/v2.1/share-links/clean-orphan/";return this.req.delete(e)}},{key:"sendShareLink",value:function(e,r,t){var n=this.server+"/api2/send-share-link/",s=new i.default;return s.append("token",e),s.append("email",r),t&&s.append("extra_msg",t),this._sendPostRequest(n,s)}},{key:"getRepoFolderShareInfo",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/share-info/",n={};return null!=r&&(n.path=r),this.req.get(t,{params:n})}},{key:"listRepoShareLinks",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/share-links/";return this.req.get(r)}},{key:"deleteRepoShareLink",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/share-links/"+r+"/";return this.req.delete(t)}},{key:"listSharedRepos",value:function(){var e=this.server+"/api/v2.1/shared-repos/";return this.req.get(e)}},{key:"getShareLinkRepoTags",value:function(e){var r=this.server+"/api/v2.1/share-links/"+e+"/repo-tags/";return this.req.get(r)}},{key:"getShareLinkTaggedFiles",value:function(e,r){var t=this.server+"/api/v2.1/share-links/"+e+"/tagged-files/"+r+"/";return this.req.get(t)}},{key:"listUserUploadLinks",value:function(){var e=this.server+"/api/v2.1/upload-links/";return this.req.get(e)}},{key:"getUploadLink",value:function(e,r){var t=this.server+"/api/v2.1/upload-links/?repo_id="+e+"&path="+encodeURIComponent(r);return this.req.get(t)}},{key:"createUploadLink",value:function(e,r,t,n){var s=this.server+"/api/v2.1/upload-links/",a=new i.default;return a.append("path",r),a.append("repo_id",e),t&&a.append("password",t),n&&a.append("expiration_time",n),this._sendPostRequest(s,a)}},{key:"updateUploadLink",value:function(e,r){var t=this.server+"/api/v2.1/upload-links/"+e+"/",n=new i.default;return n.append("expiration_time",r),this.req.put(t,n)}},{key:"deleteUploadLink",value:function(e){var r=this.server+"/api/v2.1/upload-links/"+e+"/";return this.req.delete(r)}},{key:"cleanOrphanUploadLinks",value:function(){var e=this.server+"/api/v2.1/upload-links/clean-orphan/";return this.req.delete(e)}},{key:"sendUploadLink",value:function(e,r,t){var n=this.server+"/api2/send-upload-link/",s=new i.default;return s.append("token",e),s.append("email",r),t&&s.append("extra_msg",t),this._sendPostRequest(n,s)}},{key:"listRepoUploadLinks",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/upload-links/";return this.req.get(r)}},{key:"deleteRepoUploadLink",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/upload-links/"+r+"/";return this.req.delete(t)}},{key:"listSharedItems",value:function(e,r,t){r=encodeURIComponent(r);var n=this.server+"/api2/repos/"+e+"/dir/shared_items/?p="+r+"&share_type="+t;return this.req.get(n)}},{key:"getBeSharedRepos",value:function(){var e=this.server+"/api2/beshared-repos/";return this.req.get(e)}},{key:"leaveShareRepo",value:function(e,r){var t=this.server+"/api2/beshared-repos/"+e+"/";return this.req.delete(t,{params:r})}},{key:"deleteShareToUserItem",value:function(e,r,t,n){r=encodeURIComponent(r);var i=this.server+"/api2/repos/"+e+"/dir/shared_items/?p="+r+"&share_type="+t+"&username="+encodeURIComponent(n);return this.req.delete(i)}},{key:"updateShareToUserItemPermission",value:function(e,r,t,n,s){r=encodeURIComponent(r);var a=this.server+"/api2/repos/"+e+"/dir/shared_items/?p="+r+"&share_type="+t+"&username="+encodeURIComponent(n),o=new i.default;return o.append("permission",s),this._sendPostRequest(a,o)}},{key:"deleteShareToGroupItem",value:function(e,r,t,n){r=encodeURIComponent(r);var i=this.server+"/api2/repos/"+e+"/dir/shared_items/?p="+r+"&share_type="+t+"&group_id="+n;return this.req.delete(i)}},{key:"updateShareToGroupItemPermission",value:function(e,r,t,n,s){r=encodeURIComponent(r);var a=this.server+"/api2/repos/"+e+"/dir/shared_items/?p="+r+"&share_type="+t+"&group_id="+n,o=new i.default;return o.append("permission",s),this._sendPostRequest(a,o)}},{key:"leaveShareGroupOwnedRepo",value:function(e){var r=this.server+"/api/v2.1/group-owned-libraries/user-share-in-libraries/"+e+"/";return this.req.delete(r)}},{key:"shareableGroups",value:function(){var e=this.server+"/api/v2.1/shareable-groups/";return this.req.get(e)}},{key:"getSharedRepos",value:function(){var e=this.server+"/api2/shared-repos/";return this.req.get(e)}},{key:"updateRepoSharePerm",value:function(e,r){var t=this.server+"/api/v2.1/shared-repos/"+e+"/";return this.req.put(t,r)}},{key:"unshareRepo",value:function(e,r){var t=this.server+"/api/v2.1/shared-repos/"+e+"/";return this.req.delete(t,{params:r})}},{key:"unshareRepoToGroup",value:function(e,r){var t=this.server+"/api/v2.1/groups/"+r+"/libraries/"+e+"/";return this.req.delete(t)}},{key:"shareFolder",value:function(e,r,t,n,s){r=encodeURIComponent(r);var a=new i.default;if(a.append("share_type",t),a.append("permission",n),"user"==t)for(var o=0;o<s.length;o++)a.append("username",s[o]);else for(var u=0;u<s.length;u++)a.append("group_id",s[u]);var p=this.server+"/api2/repos/"+e+"/dir/shared_items/?p="+r;return this.req.put(p,a)}},{key:"listSharedFolders",value:function(){var e=this.server+"/api/v2.1/shared-folders/";return this.req.get(e)}},{key:"updateFolderSharePerm",value:function(e,r,t){var n=this.server+"/api2/repos/"+e+"/dir/shared_items/";return this.req.post(n,r,{params:t})}},{key:"unshareFolder",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/dir/shared_items/";return this.req.delete(t,{params:r})}},{key:"listCustomPermissions",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/custom-share-permissions/";return this.req.get(r)}},{key:"createCustomPermission",value:function(e,r,t,n){var i=this.server+"/api/v2.1/repos/"+e+"/custom-share-permissions/",s={permission_name:r,description:t,permission:JSON.stringify(n)};return this.req.post(i,s)}},{key:"getCustomPermission",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/custom-share-permissions/"+r+"/";return this.req.get(t)}},{key:"deleteCustomPermission",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/custom-share-permissions/"+r+"/";return this.req.delete(t)}},{key:"updateCustomPermission",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/custom-share-permissions/"+r.id+"/",n={permission_name:r.name,description:r.description,permission:JSON.stringify(r.permission)};return this.req.put(t,n)}},{key:"createMineRepo",value:function(e){var r=this.server+"/api2/repos/?from=web";return this.req.post(r,e)}},{key:"createGroupRepo",value:function(e,r){var t=this.server+"/api/v2.1/groups/"+e+"/libraries/",n=new i.default;return n.append("repo_name",r.repo_name),r.password&&n.append("password",r.password),n.append("permission",r.permission),r.library_template&&n.append("library_template",r.library_template),this._sendPostRequest(t,n)}},{key:"listRepos",value:function(e){var r=this.server+"/api/v2.1/repos/";return e?this.req.get(r,{params:e,paramsSerializer:{serialize:function(e){var r=[];for(var t in e)if(Array.isArray(e[t]))for(var n=0,i=e[t].length;n<i;n++)r.push(t+"="+encodeURIComponent(e[t][n]));else r.push(t+"="+encodeURIComponent(e[t]));return r.join("&")}}}):this.req.get(r)}},{key:"getRepoInfo",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/";return this.req.get(r)}},{key:"getRepoHistoryLimit",value:function(e){var r=this.server+"/api2/repos/"+e+"/history-limit/";return this.req.get(r)}},{key:"setRepoHistoryLimit",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/history-limit/",n=new i.default;return n.append("keep_days",r),this.req.put(t,n)}},{key:"resetAndSendEncryptedRepoPassword",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/send-new-password/",t=new i.default;return this._sendPostRequest(r,t)}},{key:"deleteRepo",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/";return this.req.delete(r)}},{key:"renameRepo",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/?op=rename",n=new i.default;return n.append("repo_name",r),this._sendPostRequest(t,n)}},{key:"transferRepo",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/owner/",n=new i.default;return n.append("owner",r),this.req.put(t,n)}},{key:"setRepoDecryptPassword",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/set-password/",n=new i.default;return n.append("password",r),this._sendPostRequest(t,n)}},{key:"changeEncryptedRepoPassword",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/set-password/",i={old_password:r,new_password:t};return this.req.put(n,i)}},{key:"createPublicRepo",value:function(e){var r=this.server+"/api2/repos/public/";return this.req.post(r,e)}},{key:"selectOwnedRepoToPublic",value:function(e,r){var t=this.server+"/api/v2.1/shared-repos/"+e+"/";return this.req.put(t,r)}},{key:"getSource",value:function(){return n.default.CancelToken.source()}},{key:"searchFilesInPublishedRepo",value:function(e,r,t,n){var i=this.server+"/api/v2.1/published-repo-search/",s={repo_id:e,q:r,page:t,per_page:n};return this.req.get(i,{params:s})}},{key:"searchFiles",value:function(e,r){var t=this.server+"/api2/search/";if(t=t+"?q="+e.q,e.search_repo&&(t=t+"&search_repo="+e.search_repo),e.search_ftypes&&(t=t+"&search_ftypes="+e.search_ftypes),e.page&&(t=t+"&page="+e.page),e.per_page&&(t=t+"&per_page="+e.per_page),e.search_path&&(t=t+"&search_path="+e.search_path),e.obj_type&&(t=t+"&obj_type="+e.obj_type),e.input_fexts&&(t=t+"&input_fexts="+e.input_fexts),e.with_permission&&(t=t+"&with_permission="+e.with_permission),e.time_from&&(t=t+"&time_from="+e.time_from),e.time_to&&(t=t+"&time_to="+e.time_to),e.size_from&&(t=t+"&size_from="+e.size_from),e.size_to&&(t=t+"&size_to="+e.size_to),e.shared_from&&(t=t+"&shared_from="+e.shared_from),e.not_shared_from&&(t=t+"&not_shared_from="+e.not_shared_from),e.ftype)for(var n=0;n<e.ftype.length;n++)t=t+"&ftype="+e.ftype[n];return this.req.get(t,{cancelToken:r})}},{key:"searchFileInRepo",value:function(e,r){var t=this.server+"/api/v2.1/search-file/",n={repo_id:e,q:r};return this.req.get(t,{params:n})}},{key:"listRepoAPITokens",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/repo-api-tokens/";return this.req.get(r)}},{key:"addRepoAPIToken",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/repo-api-tokens/",s=new i.default;return s.append("app_name",r),s.append("permission",t),this._sendPostRequest(n,s)}},{key:"deleteRepoAPIToken",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/repo-api-tokens/"+r+"/";return this.req.delete(t)}},{key:"updateRepoAPIToken",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/repo-api-tokens/"+r+"/",s=new i.default;return s.append("permission",t),this.req.put(n,s)}},{key:"listDeletedRepo",value:function(){var e=this.server+"/api/v2.1/deleted-repos/";return this.req.get(e)}},{key:"restoreDeletedRepo",value:function(e){var r=this.server+"/api/v2.1/deleted-repos/",t=new i.default;return t.append("repo_id",e),this._sendPostRequest(r,t)}},{key:"listDir",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.recursive,i=void 0!==n&&n,s=t.type,a=void 0===s?"":s,o=t.with_thumbnail,u=void 0!==o&&o,p=t.with_parents,d=void 0!==p&&p,l=this.server+"/api/v2.1/repos/"+e+"/dir/",v={};return v.p=r,i&&(v.recursive=i?1:0),a&&(v.t=a),u&&(v.with_thumbnail=u),d&&(v.with_parents=d),this.req.get(l,{params:v})}},{key:"listWikiDir",value:function(e,r,t){var n=encodeURIComponent(r),i=this.server+"/api/v2.1/wikis/"+encodeURIComponent(e)+"/dir/?p="+n;return t&&(i=this.server+"/api/v2.1/wikis/"+encodeURIComponent(e)+"/dir/?p="+n+"&with_parents="+t),this.req.get(i)}},{key:"getDirInfo",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api/v2.1/repos/"+e+"/dir/detail/?path="+t;return this.req.get(n)}},{key:"createDir",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api2/repos/"+e+"/dir/?p="+t,s=new i.default;return s.append("operation","mkdir"),this._sendPostRequest(n,s)}},{key:"renameDir",value:function(e,r,t){var n=encodeURIComponent(r),s=this.server+"/api2/repos/"+e+"/dir/?p="+n,a=new i.default;return a.append("operation","rename"),a.append("newname",t),this._sendPostRequest(s,a)}},{key:"deleteDir",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api/v2.1/repos/"+e+"/dir/?p="+t;return this.req.delete(n)}},{key:"copyDir",value:function(e,r,t,n,i){var s=[],a=this.server;a+=e===r?"/api/v2.1/repos/sync-batch-copy-item/":"/api/v2.1/repos/async-batch-copy-item/",Array.isArray(i)?s=i:s.push(i);var o={src_repo_id:e,src_parent_dir:n,dst_repo_id:r,dst_parent_dir:t,src_dirents:s};return this._sendPostRequest(a,o,{headers:{"Content-Type":"application/json"}})}},{key:"moveDir",value:function(e,r,t,n,i){var s=[],a=this.server;a+=e===r?"/api/v2.1/repos/sync-batch-move-item/":"/api/v2.1/repos/async-batch-move-item/",Array.isArray(i)?s=i:s.push(i);var o={src_repo_id:e,src_parent_dir:n,dst_repo_id:r,dst_parent_dir:t,src_dirents:s};return this._sendPostRequest(a,o,{headers:{"Content-Type":"application/json"}})}},{key:"queryAsyncOperationProgress",value:function(e){var r=this.server+"/api/v2.1/query-copy-move-progress/?task_id="+e;return this.req.get(r)}},{key:"cancelCopyMoveOperation",value:function(e){var r=this.server+"/api/v2.1/copy-move-task/",t={task_id:e};return this.req.delete(r,{data:t})}},{key:"deleteMutipleDirents",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/batch-delete-item/",i={repo_id:e,parent_dir:r,dirents:t};return this.req.delete(n,{data:i},{headers:{"Content-Type":"application/json"}})}},{key:"zipDownload",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/zip-task/",s=new i.default;return s.append("parent_dir",r),Array.isArray(t)?t.forEach((function(e){s.append("dirents",e)})):s.append("dirents",t),this._sendPostRequest(n,s)}},{key:"queryZipProgress",value:function(e){var r=this.server+"/api/v2.1/query-zip-progress/?token="+e;return this.req.get(r)}},{key:"cancelZipTask",value:function(e){var r=this.server+"/api/v2.1/cancel-zip-task/",t=new i.default;return t.append("token",e),this.req.post(r,t)}},{key:"getFileInfo",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api2/repos/"+e+"/file/detail/?p="+t;return this.req.get(n)}},{key:"getFileHistory",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/file/history/?p="+encodeURIComponent(r);return this.req.get(t)}},{key:"getFileDownloadLink",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api2/repos/"+e+"/file/?p="+t+"&reuse=1";return this.req.get(n)}},{key:"getFileContent",value:function(e){return n.default.create().get(e)}},{key:"createFile",value:function(e,r,t){var n=encodeURIComponent(r),s=this.server+"/api/v2.1/repos/"+e+"/file/?p="+n,a=new i.default;return a.append("operation","create"),a.append("is_draft",t),this._sendPostRequest(s,a)}},{key:"renameFile",value:function(e,r,t){var n=encodeURIComponent(r),s=this.server+"/api/v2.1/repos/"+e+"/file/?p="+n,a=new i.default;return a.append("operation","rename"),a.append("newname",t),this._sendPostRequest(s,a)}},{key:"lockfile",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/file/?p="+encodeURIComponent(r),n=new i.default;return n.append("operation","lock"),this.req.put(t,n)}},{key:"unlockfile",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/file/?p="+encodeURIComponent(r),n=new i.default;return n.append("operation","unlock"),this.req.put(t,n)}},{key:"revertFile",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/file/?p="+encodeURIComponent(r),s=new i.default;return s.append("operation","revert"),s.append("commit_id",t),this._sendPostRequest(n,s)}},{key:"revertFolder",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/dir/?p="+encodeURIComponent(r),s=new i.default;return s.append("operation","revert"),s.append("commit_id",t),this._sendPostRequest(n,s)}},{key:"revertRepo",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/commits/"+r+"/revert/";return this.req.post(t)}},{key:"deleteFile",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api/v2.1/repos/"+e+"/file/?p="+t;return this.req.delete(n)}},{key:"getFileServerUploadLink",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api2/repos/"+e+"/upload-link/?p="+t+"&from=web";return this.req.get(n)}},{key:"sharedLinkGetFileUploadUrl",value:function(e,r){var t=this.server+"/api/v2.1/share-links/"+e+"/upload/?path="+encodeURIComponent(r);return this.req.get(t)}},{key:"getFileUploadedBytes",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/file-uploaded-bytes/",i={parent_dir:r,file_name:t};return this.req.get(n,{params:i})}},{key:"sharedUploadLinkGetFileUploadUrl",value:function(e){var r=this.server+"/api/v2.1/upload-links/"+e+"/upload/";return this.req.get(r)}},{key:"shareLinksUploadDone",value:function(e,r){var t=this.server+"/api/v2.1/share-links/"+e+"/upload/done/",n=new i.default;return n.append("file_path",r),this._sendPostRequest(t,n)}},{key:"uploadImage",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.default.create()({method:"post",data:r,url:e,onUploadProgress:t})}},{key:"getUpdateLink",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/update-link/?p="+encodeURIComponent(r);return this.req.get(t)}},{key:"updateFile",value:function(e,r,t,s){var a=new i.default;a.append("target_file",r),a.append("filename",t);var o=new Blob([s],{type:"text/plain"});return a.append("file",o),n.default.create()({method:"post",url:e,data:a})}},{key:"listFileHistoryRecords",value:function(e,r,t,n){var i=this.server+"/api/v2.1/repos/"+e+"/file/new_history/",s={path:r,page:t,per_page:n};return this.req.get(i,{params:s})}},{key:"listOldFileHistoryRecords",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/file/history/",i={path:r,commit_id:t};return this.req.get(n,{params:i})}},{key:"getFileRevision",value:function(e,r,t){var n=this.server+"/api2/repos/"+e+"/file/revision/?p="+encodeURIComponent(t)+"&commit_id="+r;return this.req.get(n)}},{key:"deleteComment",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/file/comments/"+r+"/";return this.req.delete(t)}},{key:"listComments",value:function(e,r,t){var n=encodeURIComponent(r),i=this.server+"/api2/repos/"+e+"/file/comments/?p="+n;return t&&(i=i+"&resolved="+t),this.req.get(i)}},{key:"postComment",value:function(e,r,t,n){var s=encodeURIComponent(r),a=this.server+"/api2/repos/"+e+"/file/comments/?p="+s,o=new i.default;return o.append("comment",t),n&&o.append("detail",n),this._sendPostRequest(a,o)}},{key:"getCommentsNumber",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api2/repos/"+e+"/file/comments/counts/?p="+t;return this.req.get(n)}},{key:"updateComment",value:function(e,r,t,n,i){var s=this.server+"/api2/repos/"+e+"/file/comments/"+r+"/",a={};return t&&(a.resolved=t),n&&(a.detail=n),i&&(a.comment=i),this.req.put(s,a)}},{key:"getRepoDraftCounts",value:function(e){var r=this.server+"/api/v2.1/repo/"+e+"/draft-counts/";return this.req.get(r)}},{key:"listRepoDrafts",value:function(e){var r=this.server+"/api/v2.1/repo/"+e+"/drafts/";return this.req.get(r)}},{key:"getDraft",value:function(e){var r=this.server+"/api/v2.1/drafts/"+e+"/";return this.req.get(r)}},{key:"listDrafts",value:function(){var e=this.server+"/api/v2.1/drafts";return this.req.get(e)}},{key:"createDraft",value:function(e,r){var t=this.server+"/api/v2.1/drafts/",n=new i.default;return n.append("repo_id",e),n.append("file_path",r),this.req.post(t,n)}},{key:"deleteDraft",value:function(e){var r=this.server+"/api/v2.1/drafts/"+e+"/";return this.req.delete(r)}},{key:"publishDraft",value:function(e){var r=this.server+"/api/v2.1/drafts/"+e+"/";return this.req.put(r,{operation:"publish"})}},{key:"listDraftReviewers",value:function(e){var r=this.server+"/api/v2.1/drafts/"+e+"/reviewer/";return this.req.get(r)}},{key:"addDraftReviewers",value:function(e,r){for(var t=this.server+"/api/v2.1/drafts/"+e+"/reviewer/",n=new i.default,s=0;s<r.length;s++)n.append("reviewer",r[s]);return this._sendPostRequest(t,n)}},{key:"deleteDraftReviewer",value:function(e,r){var t=this.server+"/api/v2.1/drafts/"+e+"/reviewer/?username="+encodeURIComponent(r);return this.req.delete(t)}},{key:"listStarredItems",value:function(){var e=this.server+"/api/v2.1/starred-items/";return this.req.get(e)}},{key:"starItem",value:function(e,r){var t=this.server+"/api/v2.1/starred-items/",n=new i.default;return n.append("repo_id",e),n.append("path",r),this._sendPostRequest(t,n)}},{key:"unstarItem",value:function(e,r){var t=this.server+"/api/v2.1/starred-items/?repo_id="+e+"&path="+encodeURIComponent(r);return this.req.delete(t)}},{key:"monitorRepo",value:function(e){var r=this.server+"/api/v2.1/monitored-repos/",t=new i.default;return t.append("repo_id",e),this._sendPostRequest(r,t)}},{key:"unMonitorRepo",value:function(e){var r=this.server+"/api/v2.1/monitored-repos/"+e+"/";return this.req.delete(r)}},{key:"listRepoTags",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/repo-tags/";return this.req.get(r)}},{key:"createRepoTag",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/repo-tags/",s=new i.default;return s.append("name",r),s.append("color",t),this._sendPostRequest(n,s)}},{key:"deleteRepoTag",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/repo-tags/"+r+"/";return this.req.delete(t)}},{key:"updateRepoTag",value:function(e,r,t,n){var i=this.server+"/api/v2.1/repos/"+e+"/repo-tags/"+r+"/",s={name:t,color:n};return this.req.put(i,s)}},{key:"listTaggedFiles",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/tagged-files/"+r+"/";return this.req.get(t)}},{key:"listFileTags",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api/v2.1/repos/"+e+"/file-tags/?file_path="+t;return this.req.get(n)}},{key:"addFileTag",value:function(e,r,t){var n=new i.default;n.append("file_path",r),n.append("repo_tag_id",t);var s=this.server+"/api/v2.1/repos/"+e+"/file-tags/";return this._sendPostRequest(s,n)}},{key:"deleteFileTag",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/file-tags/"+r+"/";return this.req.delete(t)}},{key:"saveSharedFile",value:function(e,r,t,n){var s=this.server+"/api/v2.1/share-links/"+t+"/save-file-to-repo/",a=new i.default;return a.append("dst_repo_id",e),a.append("dst_parent_dir",r),n&&a.append("path",n),this._sendPostRequest(s,a)}},{key:"saveSharedDir",value:function(e,r,t,n,s){var a=this.server+"/api/v2.1/share-links/"+t+"/save-items-to-repo/",o=new i.default;return o.append("src_parent_dir",n),s.forEach((function(e){o.append("src_dirents",e)})),o.append("dst_repo_id",e),o.append("dst_parent_dir",r),this._sendPostRequest(a,o)}},{key:"addAbuseReport",value:function(e,r,t,n,s){var a=this.server+"/api/v2.1/abuse-reports/",o=new i.default;return o.append("share_link_token",e),o.append("abuse_type",r),o.append("description",t),o.append("reporter",n),o.append("file_path",s),this._sendPostRequest(a,o)}},{key:"sysAdminListAbuseReports",value:function(){var e=this.server+"/api/v2.1/admin/abuse-reports/";return this.req.get(e)}},{key:"sysAdminUpdateAbuseReport",value:function(e,r){var t=this.server+"/api/v2.1/admin/abuse-reports/"+r+"/",n=new i.default;return n.append("handled",e),this.req.put(t,n)}},{key:"getInternalLink",value:function(e,r,t){var n="dir"===t,i=encodeURIComponent(r),s=this.server+"/api/v2.1/smart-link/?repo_id="+e+"&path="+i+"&is_dir="+n;return this.req.get(s)}},{key:"getWikiFileContent",value:function(e,r){var t=encodeURIComponent(r),n=(new Date).getTime(),i=this.server+"/api/v2.1/wikis/"+encodeURIComponent(e)+"/content/?p="+t+"&_="+n;return this.req.get(i)}},{key:"getUserAvatar",value:function(e,r){var t=this.server+"/api2/avatars/user/"+encodeURIComponent(e)+"/resized/"+r+"/";return this.req.get(t)}},{key:"listNotifications",value:function(e,r){var t=this.server+"/api/v2.1/notifications/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"updateNotifications",value:function(){var e=this.server+"/api/v2.1/notifications/";return this.req.put(e)}},{key:"deleteNotifications",value:function(){var e=this.server+"/api/v2.1/notifications/";return this.req.delete(e)}},{key:"getUnseenNotificationCount",value:function(){var e=this.server+"/api/v2.1/notifications/";return this.req.get(e)}},{key:"markNoticeAsRead",value:function(e){var r=this.server+"/api/v2.1/notification/",t=new i.default;return t.append("notice_id",e),this.req.put(r,t)}},{key:"listLinkedDevices",value:function(){var e=this.server+"/api2/devices/";return this.req.get(e)}},{key:"unlinkDevice",value:function(e,r,t){var n=this.server+"/api2/devices/",i={platform:e,device_id:r,wipe_device:t?"true":"false"};return this.req.delete(n,{data:i})}},{key:"listActivities",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36,t=this.server+"/api/v2.1/activities/?page="+e+"&avatar_size="+r;return this.req.get(t)}},{key:"createThumbnail",value:function(e,r,t){var n=this.server+"/thumbnail/"+e+"/create/?path="+encodeURIComponent(r)+"&size="+t;return this.req.get(n,{headers:{"X-Requested-With":"XMLHttpRequest"}})}},{key:"searchUsers",value:function(e){var r=this.server+"/api2/search-user/?q="+encodeURIComponent(e);return this.req.get(r)}},{key:"listWikis",value:function(e){var r=this.server+"/api/v2.1/wikis/";return e?this.req.get(r,{params:e,paramsSerializer:{serialize:function(e){var r=[];for(var t in e)if(Array.isArray(e[t]))for(var n=0,i=e[t].length;n<i;n++)r.push(t+"="+encodeURIComponent(e[t][n]));else r.push(t+"="+encodeURIComponent(e[t]));return r.join("&")}}}):this.req.get(r)}},{key:"addWiki",value:function(e){var r=this.server+"/api/v2.1/wikis/",t=new i.default;return t.append("repo_id",e),this._sendPostRequest(r,t)}},{key:"renameWiki",value:function(e,r){var t=this.server+"/api/v2.1/wikis/"+e+"/",n=new i.default;return n.append("wiki_name",r),this._sendPostRequest(t,n)}},{key:"updateWikiPermission",value:function(e,r){var t=this.server+"/api/v2.1/wikis/"+e+"/",n={permission:r};return this.req.put(t,n)}},{key:"deleteWiki",value:function(e){var r=this.server+"/api/v2.1/wikis/"+e+"/";return this.req.delete(r)}},{key:"fileMetaData",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/file/metadata/?p="+encodeURIComponent(r);return this.req.get(t)}},{key:"dirMetaData",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/dir/metadata/?p="+encodeURIComponent(r);return this.req.get(t)}},{key:"orgAdminGetOrgInfo",value:function(){var e=this.server+"/api/v2.1/org/admin/info/";return this.req.get(e)}},{key:"orgAdminUploadIdpCertificate",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/saml-idp-certificate/",n=new i.default;return n.append("idp_certificate",r),this._sendPostRequest(t,n)}},{key:"orgAdminUploadIdpMetadataXml",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/saml-idp-metadata-xml/",n=new i.default;return n.append("idp_metadata_xml",r),this._sendPostRequest(t,n)}},{key:"orgAdminGetSamlConfig",value:function(e){var r=this.server+"/api/v2.1/org/"+e+"/admin/saml-config/";return this.req.get(r)}},{key:"orgAdminAddSamlConfig",value:function(e,r,t,n,i){var s=this.server+"/api/v2.1/org/"+e+"/admin/saml-config/",a={metadata_url:r,single_sign_on_service:t,single_logout_service:n,valid_days:i};return this.req.post(s,a)}},{key:"orgAdminUpdateSamlConfig",value:function(e,r,t,n,i){var s=this.server+"/api/v2.1/org/"+e+"/admin/saml-config/",a={metadata_url:r,single_sign_on_service:t,single_logout_service:n,valid_days:i};return this.req.put(s,a)}},{key:"orgAdminDeleteSamlConfig",value:function(e){var r=this.server+"/api/v2.1/org/"+e+"/admin/saml-config/";return this.req.delete(r)}},{key:"orgAdminGetUrlPrefix",value:function(e){var r=this.server+"/api/v2.1/org/"+e+"/admin/url-prefix/";return this.req.get(r)}},{key:"orgAdminUpdateUrlPrefix",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/url-prefix/",n={org_url_prefix:r};return this.req.put(t,n)}},{key:"orgAdminStatisticFiles",value:function(e,r,t,n){var i=this.server+"/api/v2.1/org/"+e+"/admin/statistics/file-operations/",s={start:r,end:t,group_by:n};return this.req.get(i,{params:s})}},{key:"orgAdminStatisticStorages",value:function(e,r,t,n){var i=this.server+"/api/v2.1/org/"+e+"/admin/statistics/total-storage/",s={start:r,end:t,group_by:n};return this.req.get(i,{params:s})}},{key:"orgAdminStatisticActiveUsers",value:function(e,r,t,n){var i=this.server+"/api/v2.1/org/"+e+"/admin/statistics/active-users/",s={start:r,end:t,group_by:n};return this.req.get(i,{params:s})}},{key:"orgAdminStatisticSystemTraffic",value:function(e,r,t,n){var i=this.server+"/api/v2.1/org/"+e+"/admin/statistics/system-traffic/",s={start:r,end:t,group_by:n};return this.req.get(i,{params:s})}},{key:"orgAdminListUserTraffic",value:function(e,r,t,n,i){var s=this.server+"/api/v2.1/org/"+e+"/admin/statistics/user-traffic/",a={month:r,page:t,per_page:n,order_by:i};return this.req.get(s,{params:a})}},{key:"orgAdminListDevices",value:function(e,r,t,n){var i=this.server+"/api/v2.1/org/"+e+"/admin/devices/",s={platform:r,page:t,per_page:n};return this.req.get(i,{params:s})}},{key:"orgAdminUnlinkDevice",value:function(e,r,t,n,i){var s=this.server+"/api/v2.1/org/"+e+"/admin/devices/",a={wipe_device:i?"true":"false",platform:r,device_id:t,user:n};return this.req.delete(s,{data:a})}},{key:"orgAdminListDevicesErrors",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/devices-errors/",i={page:r,per_page:t};return this.req.get(n,{params:i})}},{key:"orgAdminListOrgUsers",value:function(e,r,t,n,i){var s=this.server+"/api/v2.1/org/"+e+"/admin/users/",a={is_staff:r,page:t};return n&&(a.order_by=n,a.direction=i),this.req.get(s,{params:a})}},{key:"orgAdminSearchUser",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/search-user/",n={query:r};return this.req.get(t,{params:n})}},{key:"orgAdminGetOrgUserBesharedRepos",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/beshared-repos/";return this.req.get(t)}},{key:"orgAdminGetOrgUserOwnedRepos",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/repos/";return this.req.get(t)}},{key:"orgAdminGetOrgUserInfo",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/";return this.req.get(t)}},{key:"orgAdminSetOrgUserName",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/",i={name:t};return this.req.put(n,i)}},{key:"orgAdminSetOrgUserContactEmail",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/",i={contact_email:t};return this.req.put(n,i)}},{key:"orgAdminSetOrgUserQuota",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/",i={quota_total:t};return this.req.put(n,i)}},{key:"orgAdminDeleteOrgUser",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/";return this.req.delete(t)}},{key:"orgAdminResetOrgUserPassword",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/set-password/";return this.req.put(t)}},{key:"orgAdminChangeOrgUserStatus",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/",s=new i.default;return s.append("is_active",t),this.req.put(n,s)}},{key:"orgAdminAddOrgUser",value:function(e,r,t,n){var s=this.server+"/api/v2.1/org/"+e+"/admin/users/",a=new i.default;return a.append("email",r),a.append("name",t),a.append("password",n),this._sendPostRequest(s,a)}},{key:"orgAdminImportUsersViaFile",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/import-users/",n=new i.default;return n.append("file",r),this._sendPostRequest(t,n)}},{key:"orgAdminSetOrgAdmin",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/users/"+encodeURIComponent(r)+"/",s=new i.default;return s.append("is_staff",t),this.req.put(n,s)}},{key:"orgAdminListOrgGroups",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/groups/?page="+r;return this.req.get(t)}},{key:"orgAdminSearchGroup",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/search-group/",n={query:r};return this.req.get(t,{params:n})}},{key:"orgAdminGetGroup",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/";return this.req.get(t)}},{key:"orgAdminDeleteOrgGroup",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/";return this.req.delete(t)}},{key:"orgAdminListOrgRepos",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/repos/",i={page:r};return t&&(i.order_by=t),this.req.get(n,{params:i})}},{key:"orgAdminDeleteOrgRepo",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/repos/"+r+"/";return this.req.delete(t)}},{key:"orgAdminTransferOrgRepo",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/repos/"+r+"/",s=new i.default;return s.append("email",t),this.req.put(n,s)}},{key:"orgAdminListOrgLinks",value:function(e){var r=this.server+"/api/v2.1/org/admin/links/?page="+e;return this.req.get(r)}},{key:"orgAdminDeleteOrgLink",value:function(e){var r=this.server+"/api/v2.1/org/admin/links/"+e+"/";return this.req.delete(r)}},{key:"orgAdminListDepartGroups",value:function(e){var r=this.server+"/api/v2.1/org/"+e+"/admin/address-book/groups/";return this.req.get(r)}},{key:"orgAdminListGroupInfo",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/address-book/groups/"+r+"/?return_ancestors="+t;return this.req.get(n)}},{key:"orgAdminAddDepartGroup",value:function(e,r,t,n,s){var a=this.server+"/api/v2.1/org/"+e+"/admin/address-book/groups/",o=new i.default;return o.append("parent_group",r),o.append("group_name",t),n&&o.append("group_owner",n),s&&o.append("group_staff",s.join(",")),this._sendPostRequest(a,o)}},{key:"orgAdminUpdateDepartGroup",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/address-book/groups/"+r+"/",s=new i.default;return s.append("group_name",t),this.req.put(n,s)}},{key:"orgAdminDeleteDepartGroup",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/address-book/groups/"+r+"/";return this.req.delete(t)}},{key:"orgAdminSetGroupQuota",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/",s=new i.default;return s.append("quota",t),this.req.put(n,s)}},{key:"orgAdminListGroupRepos",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/libraries/";return this.req.get(t)}},{key:"orgAdminAddDepartmentRepo",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/group-owned-libraries/",s=new i.default;return s.append("repo_name",t),this._sendPostRequest(n,s)}},{key:"orgAdminDeleteDepartmentRepo",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/group-owned-libraries/"+t;return this.req.delete(n)}},{key:"orgAdminListGroupMembers",value:function(e,r){var t=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/members/";return this.req.get(t)}},{key:"orgAdminDeleteGroupMember",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/members/"+encodeURIComponent(t)+"/";return this.req.delete(n)}},{key:"orgAdminAddGroupMember",value:function(e,r,t){var n=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/members/",s=new i.default;return s.append("email",t),this._sendPostRequest(n,s)}},{key:"orgAdminSetGroupMemberRole",value:function(e,r,t,n){var s=this.server+"/api/v2.1/org/"+e+"/admin/groups/"+r+"/members/"+encodeURIComponent(t)+"/",a=new i.default;return a.append("is_admin",n),this.req.put(s,a)}},{key:"orgAdminListFileAudit",value:function(e,r,t){var n=this.server+"/api/v2.1/org/admin/logs/file-access/?page="+t;return e&&(n=n+"&email="+encodeURIComponent(e)),r&&(n=n+"&repo_id="+r),this.req.get(n)}},{key:"orgAdminListFileUpdate",value:function(e,r,t){var n=this.server+"/api/v2.1/org/admin/logs/file-update/?page="+t;return e&&(n=n+"&email="+encodeURIComponent(e)),r&&(n=n+"&repo_id="+r),this.req.get(n)}},{key:"orgAdminListPermAudit",value:function(e,r,t){var n=this.server+"/api/v2.1/org/admin/logs/repo-permission/?page="+t;return e&&(n=n+"&email="+encodeURIComponent(e)),r&&(n=n+"&repo_id="+r),this.req.get(n)}},{key:"orgAdminGetFileUpdateDetail",value:function(e,r){var t=this.server+"/ajax/repo/"+e+"/history/changes/?commit_id="+r;return this.req.get(t,{headers:{"X-Requested-With":"XMLHttpRequest"}})}},{key:"markdownLint",value:function(e){var r=this.server+"/api/v2.1/markdown-lint/",t=new i.default;return t.append("slate",e),this._sendPostRequest(r,t)}},{key:"listFileScanRecords",value:function(){var e=this.server+"/api/v2.1/admin/file-scan-records/";return this.req.get(e)}},{key:"queryOfficeFileConvertStatus",value:function(e,r,t,n,i){var s=this.server+"/office-convert/status/",a={repo_id:e,commit_id:r,path:t,doctype:n};return i&&(a.token=i),this.req.get(s,{headers:{"X-Requested-With":"XMLHttpRequest"},params:a})}},{key:"listSharedDir",value:function(e,r,t){var n=this.server+"/api/v2.1/share-links/"+e+"/dirents/",i={thumbnail_size:t,path:r};return this.req.get(n,{params:i})}},{key:"getShareLinkZipTask",value:function(e,r){var t=this.server+"/api/v2.1/share-link-zip-task/",n={share_link_token:e,path:r};return this.req.get(t,{params:n})}},{key:"getShareLinkDirentsZipTask",value:function(e,r,t){var n=this.server+"/api/v2.1/share-link-zip-task/",i={token:e,parent_dir:r,dirents:t};return this.req.post(n,i)}},{key:"getShareLinkThumbnail",value:function(e,r,t){var n=this.server+"/thumbnail/"+e+"/create/",i={path:r,size:t};return this.req.get(n,{params:i})}},{key:"getAllRepoSnapshotLabels",value:function(){var e=this.server+"/api/v2.1/revision-tags/tag-names/";return this.req.get(e)}},{key:"addNewRepoLabels",value:function(e,r){var t=this.server+"/api/v2.1/revision-tags/tagged-items/",n={repo_id:e,tag_names:r};return this.req.post(t,n)}},{key:"updateRepoCommitLabels",value:function(e,r,t){var n=this.server+"/api/v2.1/revision-tags/tagged-items/",i={repo_id:e,commit_id:r,tag_names:t};return this.req.put(n,i)}},{key:"invitePeople",value:function(e){var r=this.server+"/api/v2.1/invitations/batch/",t=new i.default;t.append("type","guest");for(var n=0;n<e.length;n++)t.append("accepter",e[n]);return this._sendPostRequest(r,t)}},{key:"listInvitations",value:function(){var e=this.server+"/api/v2.1/invitations/";return this.req.get(e)}},{key:"deleteInvitation",value:function(e){var r=this.server+"/api/v2.1/invitations/"+e+"/";return this.req.delete(r)}},{key:"revokeInvitation",value:function(e){var r=this.server+"/api/v2.1/invitations/"+e+"/revoke/";return this.req.post(r)}},{key:"addRepoShareInvitations",value:function(e,r,t,n){var i=this.server+"/api/v2.1/repos/"+e+"/shared/invitations/batch/",s={type:"guest",accepters:t,path:r,permission:n};return this.req.post(i,s)}},{key:"listRepoShareInvitations",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/shared/invitations/?path="+r;return this.req.get(t)}},{key:"updateRepoShareInvitation",value:function(e,r,t,n){var i=this.server+"/api/v2.1/repos/"+e+"/shared/invitation/",s={token:t,path:r,permission:n};return this.req.put(i,s)}},{key:"deleteRepoShareInvitation",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/shared/invitation/",i={token:t,path:r};return this.req.delete(n,{data:i})}},{key:"updateUserAvatar",value:function(e,r){var t=this.server+"/api/v2.1/user-avatar/",n=new i.default;return n.append("avatar",e),n.append("avatar_size",r),this._sendPostRequest(t,n)}},{key:"getUserInfo",value:function(){var e=this.server+"/api/v2.1/user/";return this.req.get(e)}},{key:"updateUserInfo",value:function(e){var r=e.name,t=e.telephone,n=e.contact_email,i=e.list_in_address_book,s=this.server+"/api/v2.1/user/",a={};return null!=r&&(a.name=r),null!=t&&(a.telephone=t),null!=n&&(a.contact_email=n),null!=i&&(a.list_in_address_book=i),this.req.put(s,a)}},{key:"updateEmailNotificationInterval",value:function(e,r){var t=this.server+"/api2/account/info/",n={file_updates_email_interval:e,collaborate_email_interval:r};return this.req.put(t,n)}},{key:"updateWebdavSecret",value:function(e){var r=this.server+"/api/v2.1/webdav-secret/",t={secret:e};return this.req.put(r,t)}},{key:"listUserFolderPerm",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/user-folder-perm/";return r&&(t=t+"?folder_path="+encodeURIComponent(r)),this.req.get(t)}},{key:"addUserFolderPerm",value:function(e,r,t,n){var s=this.server+"/api2/repos/"+e+"/user-folder-perm/",a=new i.default;return a.append("permission",r),a.append("folder_path",t),Array.isArray(n)?n.forEach((function(e){a.append("user_email",e)})):a.append("user_email",n),this._sendPostRequest(s,a)}},{key:"updateUserFolderPerm",value:function(e,r,t,n){var s=this.server+"/api2/repos/"+e+"/user-folder-perm/",a=new i.default;return a.append("permission",r),a.append("folder_path",t),a.append("user_email",n),this.req.put(s,a)}},{key:"deleteUserFolderPerm",value:function(e,r,t,n){var i=this.server+"/api2/repos/"+e+"/user-folder-perm/",s={permission:r,folder_path:t,user_email:n};return this.req.delete(i,{data:s})}},{key:"listGroupFolderPerm",value:function(e,r){var t=this.server+"/api2/repos/"+e+"/group-folder-perm/";return r&&(t=t+"?folder_path="+encodeURIComponent(r)),this.req.get(t)}},{key:"addGroupFolderPerm",value:function(e,r,t,n){var s=this.server+"/api2/repos/"+e+"/group-folder-perm/",a=new i.default;return a.append("permission",r),a.append("folder_path",t),a.append("group_id",n),this._sendPostRequest(s,a)}},{key:"updateGroupFolderPerm",value:function(e,r,t,n){var s=this.server+"/api2/repos/"+e+"/group-folder-perm/",a=new i.default;return a.append("permission",r),a.append("folder_path",t),a.append("group_id",n),this.req.put(s,a)}},{key:"deleteGroupFolderPerm",value:function(e,r,t,n){var i=this.server+"/api2/repos/"+e+"/group-folder-perm/",s={permission:r,folder_path:t,group_id:n};return this.req.delete(i,{data:s})}},{key:"listDepartmentRepoUserFolderPerm",value:function(e,r){var t=this.server+"/api/v2.1/group-owned-libraries/"+e+"/user-folder-permission/";return r&&(t=t+"?folder_path="+encodeURIComponent(r)),this.req.get(t)}},{key:"addDepartmentRepoUserFolderPerm",value:function(e,r,t,n){var s=this.server+"/api/v2.1/group-owned-libraries/"+e+"/user-folder-permission/",a=new i.default;return a.append("permission",r),a.append("folder_path",t),Array.isArray(n)?n.forEach((function(e){a.append("user_email",e)})):a.append("user_email",n),this._sendPostRequest(s,a)}},{key:"updateDepartmentRepoUserFolderPerm",value:function(e,r,t,n){var s=this.server+"/api/v2.1/group-owned-libraries/"+e+"/user-folder-permission/",a=new i.default;return a.append("permission",r),a.append("folder_path",t),a.append("user_email",n),this.req.put(s,a)}},{key:"deleteDepartmentRepoUserFolderPerm",value:function(e,r,t,n){var i=this.server+"/api/v2.1/group-owned-libraries/"+e+"/user-folder-permission/",s={permission:r,folder_path:t,user_email:n};return this.req.delete(i,{data:s})}},{key:"listDepartmentRepoGroupFolderPerm",value:function(e,r){var t=this.server+"/api/v2.1/group-owned-libraries/"+e+"/group-folder-permission/";return r&&(t=t+"?folder_path="+encodeURIComponent(r)),this.req.get(t)}},{key:"addDepartmentRepoGroupFolderPerm",value:function(e,r,t,n){var s=this.server+"/api/v2.1/group-owned-libraries/"+e+"/group-folder-permission/",a=new i.default;return a.append("permission",r),a.append("folder_path",t),a.append("group_id",n),this._sendPostRequest(s,a)}},{key:"updateDepartmentRepoGroupFolderPerm",value:function(e,r,t,n){var s=this.server+"/api/v2.1/group-owned-libraries/"+e+"/group-folder-permission/",a=new i.default;return a.append("permission",r),a.append("folder_path",t),a.append("group_id",n),this.req.put(s,a)}},{key:"deleteDepartmentRepoGroupFolderPerm",value:function(e,r,t,n){var i=this.server+"/api/v2.1/group-owned-libraries/"+e+"/group-folder-permission/",s={permission:r,folder_path:t,group_id:n};return this.req.delete(i,{data:s})}},{key:"adminListWorkWeixinDepartments",value:function(e){var r=this.server+"/api/v2.1/admin/work-weixin/departments/",t={};return e&&(t.department_id=e),this.req.get(r,{params:t})}},{key:"adminListWorkWeixinDepartmentMembers",value:function(e,r){var t=this.server+"/api/v2.1/admin/work-weixin/departments/"+e+"/members/";return this.req.get(t,{params:r})}},{key:"adminAddWorkWeixinUsersBatch",value:function(e){var r=this.server+"/api/v2.1/admin/work-weixin/users/batch/";return this.req.post(r,{userlist:e})}},{key:"adminImportWorkWeixinDepartment",value:function(e){var r=this.server+"/api/v2.1/admin/work-weixin/departments/import/";return this.req.post(r,{work_weixin_department_id:e})}},{key:"adminListDingtalkDepartments",value:function(e){var r=this.server+"/api/v2.1/admin/dingtalk/departments/",t={};return e&&(t.department_id=e),this.req.get(r,{params:t})}},{key:"adminListDingtalkDepartmentMembers",value:function(e){var r=this.server+"/api/v2.1/admin/dingtalk/departments/"+e+"/members/";return this.req.get(r)}},{key:"adminAddDingtalkUsersBatch",value:function(e){var r=this.server+"/api/v2.1/admin/dingtalk/users/batch/";return this.req.post(r,{userlist:e})}},{key:"adminImportDingtalkDepartment",value:function(e){var r=this.server+"/api/v2.1/admin/dingtalk/departments/import/";return this.req.post(r,{department_id:e})}},{key:"getRepoHistory",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/history/",i={page:r||1,per_page:t||100};return this.req.get(n,{params:i})}},{key:"getCommitDetails",value:function(e,r){var t=this.server+"/ajax/repo/"+e+"/history/changes/",n={commit_id:r};return this.req.get(t,{headers:{"X-Requested-With":"XMLHttpRequest"},params:n})}},{key:"getRepoFolderTrash",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/trash/",i={path:r};return t&&(i.scan_stat=t),this.req.post(n,i)}},{key:"deleteRepoTrash",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/trash/",n={keep_days:r};return this.req.delete(t,{data:n})}},{key:"restoreFolder",value:function(e,r,t){var n=this.server+"/api2/repos/"+e+"/dir/revert/",i={commit_id:r,p:t};return this.req.put(n,i)}},{key:"restoreFile",value:function(e,r,t){var n=this.server+"/api2/repos/"+e+"/file/revert/",i={commit_id:r,p:t};return this.req.put(n,i)}},{key:"listCommitDir",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/commits/"+r+"/dir/",i={path:t};return this.req.get(n,{params:i})}},{key:"listRepoRelatedUsers",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/related-users/";return this.req.get(r)}},{key:"listFileParticipants",value:function(e,r){var t=encodeURIComponent(r),n=this.server+"/api/v2.1/repos/"+e+"/file/participants/?path="+t;return this.req.get(n)}},{key:"addFileParticipants",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/file/participants/",i={path:r,emails:t};return this.req.post(n,i)}},{key:"deleteFileParticipant",value:function(e,r,t){var n=this.server+"/api/v2.1/repos/"+e+"/file/participant/",i={path:r,email:t};return this.req.delete(n,{data:i})}},{key:"listOCMSharesPrepare",value:function(e){var r=this.server+"/api/v2.1/ocm/shares-prepare/";return e&&(r+="?repo_id="+e),this.req.get(r)}},{key:"addOCMSharePrepare",value:function(e,r,t,n,i){var s=this.server+"/api/v2.1/ocm/shares-prepare/",a={to_user:e,to_server_url:r,repo_id:t,path:n,permission:i};return this.req.post(s,a)}},{key:"deleteOCMSharePrepare",value:function(e){var r=this.server+"/api/v2.1/ocm/shares-prepare/"+e+"/";return this.req.delete(r)}},{key:"listOCMSharesReceived",value:function(){var e=this.server+"/api/v2.1/ocm/shares-received/";return this.req.get(e)}},{key:"deleteOCMShareReceived",value:function(e){var r=this.server+"/api/v2.1/ocm/shares-received/"+e+"/";return this.req.delete(r)}},{key:"listOCMRepoDir",value:function(e,r,t){var n=this.server+"/api/v2.1/ocm/providers/"+e+"/repos/"+r+"/dir/?path="+encodeURIComponent(t);return this.req.get(n)}},{key:"getOCMRepoDownloadURL",value:function(e,r,t){var n=this.server+"/api/v2.1/ocm/providers/"+e+"/repos/"+r+"/download-link/?path="+encodeURIComponent(t);return this.req.get(n)}},{key:"getOCMRepoUploadURL",value:function(e,r,t){var n=this.server+"/api/v2.1/ocm/providers/"+e+"/repos/"+r+"/upload-link/?path="+encodeURIComponent(t);return this.req.get(n)}},{key:"getRepoOldFilesAutoDelDays",value:function(e){var r=this.server+"/api/v2.1/repos/"+e+"/auto-delete/";return this.req.get(r)}},{key:"setRepoOldFilesAutoDelDays",value:function(e,r){var t=this.server+"/api/v2.1/repos/"+e+"/auto-delete/",n=new i.default;return n.append("auto_delete_days",r),this.req.put(t,n)}},{key:"sysAdminUploadLicense",value:function(e){var r=this.server+"/api/v2.1/admin/license/",t=new i.default;return t.append("license",e),this._sendPostRequest(r,t)}},{key:"sysAdminGetSysInfo",value:function(){var e=this.server+"/api/v2.1/admin/sysinfo/";return this.req.get(e)}},{key:"sysAdminListDevices",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/devices/",i={platform:e,page:r,per_page:t};return this.req.get(n,{params:i})}},{key:"sysAdminUnlinkDevice",value:function(e,r,t,n){var i=this.server+"/api/v2.1/admin/devices/",s={wipe_device:n?"true":"false",platform:e,device_id:r,user:t};return this.req.delete(i,{data:s})}},{key:"sysAdminListDeviceErrors",value:function(e,r){var t=this.server+"/api/v2.1/admin/device-errors/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminClearDeviceErrors",value:function(){var e=this.server+"/api/v2.1/admin/device-errors/";return this.req.delete(e)}},{key:"sysAdminGetSysSettingInfo",value:function(){var e=this.server+"/api/v2.1/admin/web-settings/";return this.req.get(e)}},{key:"sysAdminSetSysSettingInfo",value:function(e,r){var t=this.server+"/api/v2.1/admin/web-settings/",n=new i.default;return n.append(e,r),this.req.put(t,n)}},{key:"sysAdminUpdateLogo",value:function(e){var r=this.server+"/api/v2.1/admin/logo/",t=new i.default;return t.append("logo",e),this._sendPostRequest(r,t)}},{key:"sysAdminUpdateFavicon",value:function(e){var r=this.server+"/api/v2.1/admin/favicon/",t=new i.default;return t.append("favicon",e),this._sendPostRequest(r,t)}},{key:"sysAdminUpdateLoginBG",value:function(e){var r=this.server+"/api/v2.1/admin/login-background-image/",t=new i.default;return t.append("login_bg_image",e),this._sendPostRequest(r,t)}},{key:"sysAdminListAllRepos",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/libraries/",i={page:e,per_page:r};return t&&(i.order_by=t),this.req.get(n,{params:i})}},{key:"sysAdminSearchRepos",value:function(e){var r=this.server+"/api/v2.1/admin/search-library/",t={query:e||""};return this.req.get(r,{params:t})}},{key:"sysAdminGetSystemRepoInfo",value:function(){var e=this.server+"/api/v2.1/admin/system-library/";return this.req.get(e)}},{key:"sysAdminDeleteRepo",value:function(e){var r=this.server+"/api/v2.1/admin/libraries/"+e+"/";return this.req.delete(r)}},{key:"sysAdminTransferRepo",value:function(e,r){var t=this.server+"/api/v2.1/admin/libraries/"+e+"/",n={owner:r};return this.req.put(t,n)}},{key:"sysAdminGetRepoHistorySetting",value:function(e){var r=this.server+"/api/v2.1/admin/libraries/"+e+"/history-limit/";return this.req.get(r)}},{key:"sysAdminUpdateRepoHistorySetting",value:function(e,r){var t=this.server+"/api/v2.1/admin/libraries/"+e+"/history-limit/",n=new i.default;return n.append("keep_days",r),this.req.put(t,n)}},{key:"sysAdminListRepoSharedItems",value:function(e,r){var t=this.server+"/api/v2.1/admin/shares/",n={repo_id:e,share_type:r};return this.req.get(t,{params:n})}},{key:"sysAdminUpdateRepoSharedItemPermission",value:function(e,r,t,n){var i=this.server+"/api/v2.1/admin/shares/",s={repo_id:e,share_type:r,permission:n,share_to:t};return this.req.put(i,s)}},{key:"sysAdminAddRepoSharedItem",value:function(e,r,t,n){var s=this.server+"/api/v2.1/admin/shares/",a=new i.default;return a.append("repo_id",e),a.append("share_type",r),a.append("permission",n),t.map((function(e){a.append("share_to",e)})),this._sendPostRequest(s,a)}},{key:"sysAdminDeleteRepoSharedItem",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/shares/",i={repo_id:e,share_type:r,share_to:t};return this.req.delete(n,{data:i})}},{key:"sysAdminCreateRepo",value:function(e,r){var t=this.server+"/api/v2.1/admin/libraries/",n=new i.default;return n.append("name",e),n.append("owner",r),this._sendPostRequest(t,n)}},{key:"sysAdminListTrashRepos",value:function(e,r){var t=this.server+"/api/v2.1/admin/trash-libraries/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminSearchTrashRepos",value:function(e){var r=this.server+"/api/v2.1/admin/trash-libraries/",t={owner:e||""};return this.req.get(r,{params:t})}},{key:"sysAdminDeleteTrashRepo",value:function(e){var r=this.server+"/api/v2.1/admin/trash-libraries/"+e+"/";return this.req.delete(r)}},{key:"sysAdminRestoreTrashRepo",value:function(e){var r=this.server+"/api/v2.1/admin/trash-libraries/"+e+"/";return this.req.put(r)}},{key:"sysAdminCleanTrashRepos",value:function(){var e=this.server+"/api/v2.1/admin/trash-libraries/";return this.req.delete(e)}},{key:"sysAdminListRepoDirents",value:function(e,r){var t=this.server+"/api/v2.1/admin/libraries/"+e+"/dirents/",n={parent_dir:r};return this.req.get(t,{params:n})}},{key:"sysAdminDeleteRepoDirent",value:function(e,r){var t=this.server+"/api/v2.1/admin/libraries/"+e+"/dirent/",n={path:r};return this.req.delete(t,{params:n})}},{key:"sysAdminGetRepoFileDownloadURL",value:function(e,r){var t=this.server+"/api/v2.1/admin/libraries/"+e+"/dirent/",n={path:r,dl:1};return this.req.get(t,{params:n})}},{key:"sydAdminGetSysRepoItemUploadURL",value:function(e){var r=this.server+"/api/v2.1/admin/system-library/upload-link/?from=web",t={path:e};return this.req.get(r,{params:t})}},{key:"sysAdminGetSysRepoItemInfo",value:function(e,r){var t=this.server+"/api/v2.1/admin/libraries/"+e+"/dirent/",n={path:r};return this.req.get(t,{params:n})}},{key:"sysAdminCreateSysRepoFolder",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/libraries/"+e+"/dirents/?parent_dir="+encodeURIComponent(r),s=new i.default;return s.append("obj_name",t),this._sendPostRequest(n,s)}},{key:"sysAdminListAllGroups",value:function(e,r){var t=this.server+"/api/v2.1/admin/groups/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminSearchGroups",value:function(e){var r=this.server+"/api/v2.1/admin/search-group/",t={query:e};return this.req.get(r,{params:t})}},{key:"sysAdminDismissGroupByID",value:function(e){var r=this.server+"/api/v2.1/admin/groups/"+e+"/";return this.req.delete(r)}},{key:"sysAdminTransferGroup",value:function(e,r){var t=this.server+"/api/v2.1/admin/groups/"+r+"/",n=new i.default;return n.append("new_owner",e),this.req.put(t,n)}},{key:"sysAdminCreateNewGroup",value:function(e,r){var t=this.server+"/api/v2.1/admin/groups/",n=new i.default;return n.append("group_name",e),n.append("group_owner",r),this._sendPostRequest(t,n)}},{key:"sysAdminListGroupRepos",value:function(e){var r=this.server+"/api/v2.1/admin/groups/"+e+"/libraries/";return this.req.get(r)}},{key:"sysAdminListGroupMembers",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/groups/"+e+"/members/",i={page:r,per_page:t};return this.req.get(n,{params:i})}},{key:"sysAdminUnshareRepoFromGroup",value:function(e,r){var t=this.server+"/api/v2.1/admin/groups/"+e+"/libraries/"+r+"/";return this.req.delete(t)}},{key:"sysAdminAddGroupMember",value:function(e,r){for(var t=this.server+"/api/v2.1/admin/groups/"+e+"/members/",n=new i.default,s=0;s<r.length;s++)n.append("email",r[s]);return this._sendPostRequest(t,n)}},{key:"sysAdminDeleteGroupMember",value:function(e,r){var t=this.server+"/api/v2.1/admin/groups/"+e+"/members/"+encodeURIComponent(r)+"/";return this.req.delete(t)}},{key:"sysAdminUpdateGroupMemberRole",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/groups/"+e+"/members/"+encodeURIComponent(r)+"/",s=new i.default;return s.append("is_admin",t),this.req.put(n,s)}},{key:"sysAdminListAllSysNotifications",value:function(){var e=this.server+"/api/v2.1/admin/sys-notifications/";return this.req.get(e)}},{key:"sysAdminAddSysNotification",value:function(e){var r=this.server+"/api/v2.1/admin/sys-notifications/",t=new i.default;return t.append("msg",e),this._sendPostRequest(r,t)}},{key:"sysAdminSetSysNotificationToCurrent",value:function(e){var r=this.server+"/api/v2.1/admin/sys-notifications/"+e+"/";return this.req.put(r)}},{key:"sysAdminDeleteSysNotification",value:function(e){var r=this.server+"/api/v2.1/admin/sys-notifications/"+e+"/";return this.req.delete(r)}},{key:"sysAdminListAllDepartments",value:function(){var e=this.server+"/api/v2.1/admin/address-book/groups/";return this.req.get(e)}},{key:"sysAdminAddNewDepartment",value:function(e,r){var t=this.server+"/api/v2.1/admin/address-book/groups/",n=new i.default;return n.append("parent_group",e),n.append("group_name",r),n.append("group_owner","system admin"),this._sendPostRequest(t,n)}},{key:"sysAdminGetDepartmentInfo",value:function(e,r){var t=this.server+"/api/v2.1/admin/address-book/groups/"+e+"/";return t+=r?"?return_ancestors=true":"",this.req.get(t)}},{key:"sysAdminUpdateDepartmentQuota",value:function(e,r){var t=this.server+"/api/v2.1/admin/groups/"+e+"/",n=new i.default;return n.append("quota",r),this.req.put(t,n)}},{key:"sysAdminRenameDepartment",value:function(e,r){var t=this.server+"/api/v2.1/admin/groups/"+e+"/",n=new i.default;return n.append("name",r),this.req.put(t,n)}},{key:"sysAdminDeleteDepartment",value:function(e){var r=this.server+"/api/v2.1/admin/address-book/groups/"+e+"/";return this.req.delete(r)}},{key:"sysAdminAddRepoInDepartment",value:function(e,r){var t=this.server+"/api/v2.1/admin/groups/"+e+"/group-owned-libraries/",n=new i.default;return n.append("repo_name",r),this._sendPostRequest(t,n)}},{key:"sysAdminDeleteRepoInDepartment",value:function(e,r){var t=this.server+"/api/v2.1/admin/groups/"+e+"/group-owned-libraries/"+r+"/";return this.req.delete(t)}},{key:"sysAdminListShareLinks",value:function(e,r,t,n){var i=this.server+"/api/v2.1/admin/share-links/",s={page:e,per_page:r};return t&&(s.order_by=t,s.direction=n),this.req.get(i,{params:s})}},{key:"sysAdminDeleteShareLink",value:function(e){var r=this.server+"/api/v2.1/admin/share-links/"+e+"/";return this.req.delete(r)}},{key:"sysAdminListAllUploadLinks",value:function(e,r){var t=this.server+"/api/v2.1/admin/upload-links/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminDeleteUploadLink",value:function(e){var r=this.server+"/api/v2.1/admin/upload-links/"+e+"/";return this.req.delete(r)}},{key:"sysAdminListOrgs",value:function(e,r){var t=this.server+"/api/v2.1/admin/organizations/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminSearchOrgs",value:function(e){var r=this.server+"/api/v2.1/admin/search-organization/",t={query:e};return this.req.get(r,{params:t})}},{key:"sysAdminGetOrg",value:function(e){var r=this.server+"/api/v2.1/admin/organizations/"+e+"/";return this.req.get(r)}},{key:"sysAdminUpdateOrg",value:function(e,r){var t=this.server+"/api/v2.1/admin/organizations/"+e+"/",n=new i.default;return r.orgName&&n.append("org_name",r.orgName),r.maxUserNumber&&n.append("max_user_number",r.maxUserNumber),r.quota&&n.append("quota",r.quota),r.role&&n.append("role",r.role),this.req.put(t,n)}},{key:"sysAdminAddOrg",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/organizations/",s=new i.default;return s.append("org_name",e),s.append("owner_email",r),s.append("owner_password",t),this._sendPostRequest(n,s)}},{key:"sysAdminDeleteOrg",value:function(e){var r=this.server+"/api/v2.1/admin/organizations/"+e+"/";return this.req.delete(r)}},{key:"sysAdminListOrgUsers",value:function(e){var r=this.server+"/api/v2.1/admin/organizations/"+e+"/users/";return this.req.get(r)}},{key:"sysAdminAddOrgUser",value:function(e,r,t,n){var s=this.server+"/api/v2.1/admin/organizations/"+e+"/users/",a=new i.default;return a.append("email",r),a.append("name",t),a.append("password",n),this._sendPostRequest(s,a)}},{key:"sysAdminUpdateOrgUser",value:function(e,r,t,n){var s=this.server+"/api/v2.1/admin/organizations/"+e+"/users/"+encodeURIComponent(r)+"/",a=new i.default;switch(t){case"active":a.append("active",n);break;case"is_org_staff":a.append("is_org_staff",n);break;case"name":a.append("name",n);break;case"contact_email":a.append("contact_email",n);break;case"quota_total":a.append("quota_total",n)}return this.req.put(s,a)}},{key:"sysAdminDeleteOrgUser",value:function(e,r){var t=this.server+"/api/v2.1/admin/organizations/"+e+"/users/"+encodeURIComponent(r)+"/";return this.req.delete(t)}},{key:"sysAdminListOrgGroups",value:function(e){var r=this.server+"/api/v2.1/admin/organizations/"+e+"/groups/";return this.req.get(r)}},{key:"sysAdminListOrgRepos",value:function(e){var r=this.server+"/api/v2.1/admin/organizations/"+e+"/repos/";return this.req.get(r)}},{key:"sysAdminListLoginLogs",value:function(e,r){var t=this.server+"/api/v2.1/admin/logs/login-logs/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminListFileAccessLogs",value:function(e,r,t,n){var i=this.server+"/api/v2.1/admin/logs/file-access-logs/",s={page:e,per_page:r};return null!=t&&(s.email=t),null!=n&&(s.repo_id=n),this.req.get(i,{params:s})}},{key:"sysAdminListFileUpdateLogs",value:function(e,r){var t=this.server+"/api/v2.1/admin/logs/file-update-logs/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminListSharePermissionLogs",value:function(e,r){var t=this.server+"/api/v2.1/admin/logs/share-permission-logs/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminListAdminLogs",value:function(e,r){var t=this.server+"/api/v2.1/admin/admin-logs/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminListAdminLoginLogs",value:function(e,r){var t=this.server+"/api/v2.1/admin/admin-login-logs/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminListShareInRepos",value:function(e){var r=this.server+"/api/v2.1/admin/users/"+encodeURIComponent(e)+"/beshared-repos/";return this.req.get(r)}},{key:"sysAdminListShareLinksByUser",value:function(e){var r=this.server+"/api/v2.1/admin/users/"+encodeURIComponent(e)+"/share-links/";return this.req.get(r)}},{key:"sysAdminListUploadLinksByUser",value:function(e){var r=this.server+"/api/v2.1/admin/users/"+encodeURIComponent(e)+"/upload-links/";return this.req.get(r)}},{key:"sysAdminListGroupsJoinedByUser",value:function(e){var r=this.server+"/api/v2.1/admin/users/"+encodeURIComponent(e)+"/groups/";return this.req.get(r)}},{key:"sysAdminSetForceTwoFactorAuth",value:function(e,r){var t=r?1:0,n=this.server+"/api2/two-factor-auth/"+encodeURIComponent(e)+"/",s=new i.default;return s.append("force_2fa",t),this.req.put(n,s)}},{key:"sysAdminDeleteTwoFactorAuth",value:function(e){var r=this.server+"/api2/two-factor-auth/"+encodeURIComponent(e)+"/";return this.req.delete(r)}},{key:"sysAdminListUsers",value:function(e,r,t,n,i){var s=this.server+"/api/v2.1/admin/users/",a={page:e,per_page:r};return t&&(a.source="LDAPImport"),n&&(a.order_by=n,a.direction=i),this.req.get(s,{params:a})}},{key:"sysAdminSearchUsers",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/search-user/",i={query:e,page:r,per_page:t};return this.req.get(n,{params:i})}},{key:"sysAdminListLDAPUsers",value:function(e,r){var t=this.server+"/api/v2.1/admin/ldap-users/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminAddUser",value:function(e,r,t,n){var s=this.server+"/api/v2.1/admin/users/",a=new i.default;return a.append("email",e),a.append("name",r),a.append("password",n),t&&a.append("role",t),this._sendPostRequest(s,a)}},{key:"sysAdminUpdateUser",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/users/"+encodeURIComponent(e)+"/",s=new i.default;switch(r){case"password":s.append("password",t);break;case"is_active":s.append("is_active",t);break;case"is_staff":s.append("is_staff",t);break;case"role":s.append("role",t);break;case"name":s.append("name",t);break;case"login_id":s.append("login_id",t);break;case"contact_email":s.append("contact_email",t);break;case"reference_id":s.append("reference_id",t);break;case"department":s.append("department",t);break;case"quota_total":s.append("quota_total",t);break;case"institution":s.append("institution",t);break;case"upload_rate_limit":s.append("upload_rate_limit",t);break;case"download_rate_limit":s.append("download_rate_limit",t)}return this.req.put(n,s)}},{key:"sysAdminDeleteUser",value:function(e){var r=this.server+"/api/v2.1/admin/users/"+encodeURIComponent(e)+"/";return this.req.delete(r)}},{key:"sysAdminGetUser",value:function(e,r){var t=this.server+"/api/v2.1/admin/users/"+encodeURIComponent(e)+"/",n={};return r&&(n.avatar_size=r),this.req.get(t,{params:n})}},{key:"sysAdminResetUserPassword",value:function(e){var r=this.server+"/api/v2.1/admin/users/"+encodeURIComponent(e)+"/reset-password/";return this.req.put(r)}},{key:"sysAdminSetUserQuotaInBatch",value:function(e,r){var t=this.server+"/api/v2.1/admin/users/batch/",n=new i.default;return e.map((function(e){n.append("email",e)})),n.append("operation","set-quota"),n.append("quota_total",r),this._sendPostRequest(t,n)}},{key:"sysAdminDeleteUserInBatch",value:function(e){var r=this.server+"/api/v2.1/admin/users/batch/",t=new i.default;return e.map((function(e){t.append("email",e)})),t.append("operation","delete-user"),this._sendPostRequest(r,t)}},{key:"sysAdminImportUserViaFile",value:function(e){var r=this.server+"/api/v2.1/admin/import-users/",t=new i.default;return t.append("file",e),this._sendPostRequest(r,t)}},{key:"sysAdminListAdmins",value:function(){var e=this.server+"/api/v2.1/admin/admin-users/";return this.req.get(e)}},{key:"sysAdminUpdateAdminRole",value:function(e,r){var t=this.server+"/api/v2.1/admin/admin-role/",n=new i.default;return n.append("email",e),n.append("role",r),this.req.put(t,n)}},{key:"sysAdminAddAdminInBatch",value:function(e){var r=this.server+"/api/v2.1/admin/admin-users/batch/",t=new i.default;return e.map((function(e){t.append("email",e)})),this._sendPostRequest(r,t)}},{key:"sysAdminListReposByOwner",value:function(e){var r=this.server+"/api/v2.1/admin/libraries/",t={owner:e};return this.req.get(r,{params:t})}},{key:"sysAdminListInvitations",value:function(e,r){var t=this.server+"/api/v2.1/admin/invitations/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminDeleteInvitation",value:function(e){var r=this.server+"/api/v2.1/admin/invitations/"+e+"/";return this.req.delete(r)}},{key:"sysAdminDeleteExpiredInvitations",value:function(){var e=this.server+"/api/v2.1/admin/invitations/?type=expired";return this.req.delete(e)}},{key:"sysAdminListInstitutions",value:function(e,r){var t=this.server+"/api/v2.1/admin/institutions/",n={page:e,per_page:r};return this.req.get(t,{params:n})}},{key:"sysAdminAddInstitution",value:function(e){var r=this.server+"/api/v2.1/admin/institutions/",t=new i.default;return t.append("name",e),this._sendPostRequest(r,t)}},{key:"sysAdminDeleteInstitution",value:function(e){var r=this.server+"/api/v2.1/admin/institutions/"+e+"/";return this.req.delete(r)}},{key:"sysAdminGetInstitution",value:function(e){var r=this.server+"/api/v2.1/admin/institutions/"+e+"/";return this.req.get(r)}},{key:"sysAdminUpdateInstitution",value:function(e,r){var t=this.server+"/api/v2.1/admin/institutions/"+e+"/",n=new i.default;return n.append("quota",r),this.req.put(t,n)}},{key:"sysAdminListInstitutionUsers",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/institutions/"+e+"/users/",i={page:r,per_page:t};return this.req.get(n,{params:i})}},{key:"sysAdminListInstitutionAdmins",value:function(e){var r=this.server+"/api/v2.1/admin/institutions/"+e+"/users/";return this.req.get(r,{params:{is_institution_admin:!0}})}},{key:"sysAdminAddInstitutionUserBatch",value:function(e,r){var t=this.server+"/api/v2.1/admin/institutions/"+e+"/users/",n=new i.default;return r.map((function(e){n.append("email",e)})),this.req.post(t,n)}},{key:"sysAdminUpdateInstitutionUser",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/institutions/"+e+"/users/"+encodeURIComponent(r)+"/",s=new i.default;return s.append("is_institution_admin",t),this.req.put(n,s)}},{key:"sysAdminDeleteInstitutionUser",value:function(e,r){var t=this.server+"/api/v2.1/admin/institutions/"+e+"/users/"+encodeURIComponent(r)+"/";return this.req.delete(t)}},{key:"sysAdminListTermsAndConditions",value:function(){var e=this.server+"/api/v2.1/admin/terms-and-conditions/";return this.req.get(e)}},{key:"sysAdminAddTermAndCondition",value:function(e,r,t,n){var s=this.server+"/api/v2.1/admin/terms-and-conditions/",a=new i.default;return a.append("name",e),a.append("version_number",r),a.append("text",t),a.append("is_active",n),this._sendPostRequest(s,a)}},{key:"sysAdminUpdateTermAndCondition",value:function(e,r,t,n,s){var a=this.server+"/api/v2.1/admin/terms-and-conditions/"+e+"/",o=new i.default;return o.append("name",r),o.append("version_number",t),o.append("text",n),o.append("is_active",s),this.req.put(a,o)}},{key:"sysAdminDeleteTermAndCondition",value:function(e){var r=this.server+"/api/v2.1/admin/terms-and-conditions/"+e+"/";return this.req.delete(r)}},{key:"listVirusScanRecords",value:function(e){var r=this.server+"/api/v2.1/admin/virus-scan-records/?page="+e;return this.req.get(r)}},{key:"deleteVirusScanRecord",value:function(e){var r=this.server+"/api/v2.1/admin/virus-scan-records/"+e+"/";return this.req.delete(r)}},{key:"listVirusFiles",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/virus-files/",i={page:e,per_page:r};return null!=t&&(i.has_handled=t),this.req.get(n,{params:i})}},{key:"deleteVirusFile",value:function(e){var r=this.server+"/api/v2.1/admin/virus-files/"+e+"/";return this.req.delete(r)}},{key:"toggleIgnoreVirusFile",value:function(e,r){var t=this.server+"/api/v2.1/admin/virus-files/"+e+"/",n=new i.default;return n.append("ignore",r),this.req.put(t,n)}},{key:"batchProcessVirusFiles",value:function(e,r){for(var t=this.server+"/api/v2.1/admin/virus-files/batch/",n=new i.default,s=0;s<e.length;s++)n.append("virus_ids",e[s]);return n.append("operation",r),this.req.post(t,n)}},{key:"sysAdminStatisticFiles",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/statistics/file-operations/",i={start:e,end:r,group_by:t};return this.req.get(n,{params:i})}},{key:"sysAdminStatisticStorages",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/statistics/total-storage/",i={start:e,end:r,group_by:t};return this.req.get(n,{params:i})}},{key:"sysAdminStatisticActiveUsers",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/statistics/active-users/",i={start:e,end:r,group_by:t};return this.req.get(n,{params:i})}},{key:"sysAdminStatisticTraffic",value:function(e,r,t){var n=this.server+"/api/v2.1/admin/statistics/system-traffic/",i={start:e,end:r,group_by:t};return this.req.get(n,{params:i})}},{key:"sysAdminListUserTraffic",value:function(e,r,t,n){var i=this.server+"/api/v2.1/admin/statistics/system-user-traffic/",s={month:e,page:r,per_page:t,order_by:n};return this.req.get(i,{params:s})}},{key:"sysAdminListOrgTraffic",value:function(e,r,t,n){var i=this.server+"/api/v2.1/admin/statistics/system-org-traffic/",s={month:e,page:r,per_page:t,order_by:n};return this.req.get(i,{params:s})}},{key:"onlyofficeConvert",value:function(e,r){var t=this.server+"/onlyoffice-api/convert/",n=new i.default;return n.append("repo_id",e),n.append("file_path",r),this._sendPostRequest(t,n)}}],t&&a(r.prototype,t),e}();r.SeafileAPI=o},218:(e,r,t)=>{"use strict";function n(e,r){return function(){return e.apply(r,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,a=(o=Object.create(null),e=>{const r=i.call(e);return o[r]||(o[r]=r.slice(8,-1).toLowerCase())});var o;const u=e=>(e=e.toLowerCase(),r=>a(r)===e),p=e=>r=>typeof r===e,{isArray:d}=Array,l=p("undefined"),v=u("ArrayBuffer"),c=p("string"),h=p("function"),f=p("number"),m=e=>null!==e&&"object"==typeof e,y=e=>{if("object"!==a(e))return!1;const r=s(e);return!(null!==r&&r!==Object.prototype&&null!==Object.getPrototypeOf(r)||Symbol.toStringTag in e||Symbol.iterator in e)},g=u("Date"),k=u("File"),_=u("Blob"),q=u("FileList"),w=u("URLSearchParams");function b(e,r,{allOwnKeys:t=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),d(e))for(n=0,i=e.length;n<i;n++)r.call(null,e[n],n,e);else{const i=t?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let a;for(n=0;n<s;n++)a=i[n],r.call(null,e[a],a,e)}}function R(e,r){r=r.toLowerCase();const t=Object.keys(e);let n,i=t.length;for(;i-- >0;)if(n=t[i],r===n.toLowerCase())return n;return null}const A="undefined"==typeof self?void 0===t.g?void 0:t.g:self,U=e=>!l(e)&&e!==A,S=(C="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>C&&e instanceof C);var C;const O=u("HTMLFormElement"),P=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),I=u("RegExp"),E=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),n={};b(t,((t,i)=>{!1!==r(t,i,e)&&(n[i]=t)})),Object.defineProperties(e,n)};var L={isArray:d,isArrayBuffer:v,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&h(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const r="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||i.call(e)===r||h(e.toString)&&e.toString()===r)},isArrayBufferView:function(e){let r;return r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&v(e.buffer),r},isString:c,isNumber:f,isBoolean:e=>!0===e||!1===e,isObject:m,isPlainObject:y,isUndefined:l,isDate:g,isFile:k,isBlob:_,isRegExp:I,isFunction:h,isStream:e=>m(e)&&h(e.pipe),isURLSearchParams:w,isTypedArray:S,isFileList:q,forEach:b,merge:function e(){const{caseless:r}=U(this)&&this||{},t={},n=(n,i)=>{const s=r&&R(t,i)||i;y(t[s])&&y(n)?t[s]=e(t[s],n):y(n)?t[s]=e({},n):d(n)?t[s]=n.slice():t[s]=n};for(let e=0,r=arguments.length;e<r;e++)arguments[e]&&b(arguments[e],n);return t},extend:(e,r,t,{allOwnKeys:i}={})=>(b(r,((r,i)=>{t&&h(r)?e[i]=n(r,t):e[i]=r}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,r,t,n)=>{e.prototype=Object.create(r.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,r,t,n)=>{let i,a,o;const u={};if(r=r||{},null==e)return r;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],n&&!n(o,e,r)||u[o]||(r[o]=e[o],u[o]=!0);e=!1!==t&&s(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},kindOf:a,kindOfTest:u,endsWith:(e,r,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=r.length;const n=e.indexOf(r,t);return-1!==n&&n===t},toArray:e=>{if(!e)return null;if(d(e))return e;let r=e.length;if(!f(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},forEachEntry:(e,r)=>{const t=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=t.next())&&!n.done;){const t=n.value;r.call(e,t[0],t[1])}},matchAll:(e,r)=>{let t;const n=[];for(;null!==(t=e.exec(r));)n.push(t);return n},isHTMLForm:O,hasOwnProperty:P,hasOwnProp:P,reduceDescriptors:E,freezeMethods:e=>{E(e,((r,t)=>{if(h(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const n=e[t];h(n)&&(r.enumerable=!1,"writable"in r?r.writable=!1:r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))}))},toObjectSet:(e,r)=>{const t={},n=e=>{e.forEach((e=>{t[e]=!0}))};return d(e)?n(e):n(String(e).split(r)),t},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,r,t){return r.toUpperCase()+t})),noop:()=>{},toFiniteNumber:(e,r)=>(e=+e,Number.isFinite(e)?e:r),findKey:R,global:A,isContextDefined:U,toJSONObject:e=>{const r=new Array(10),t=(e,n)=>{if(m(e)){if(r.indexOf(e)>=0)return;if(!("toJSON"in e)){r[n]=e;const i=d(e)?[]:{};return b(e,((e,r)=>{const s=t(e,n+1);!l(s)&&(i[r]=s)})),r[n]=void 0,i}}return e};return t(e,0)}};function D(e,r,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i)}L.inherits(D,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const F=D.prototype,T={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{T[e]={value:e}})),Object.defineProperties(D,T),Object.defineProperty(F,"isAxiosError",{value:!0}),D.from=(e,r,t,n,i,s)=>{const a=Object.create(F);return L.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),D.call(a,e.message,r,t,n,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};var x="object"==typeof self?self.FormData:window.FormData;function j(e){return L.isPlainObject(e)||L.isArray(e)}function N(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function G(e,r,t){return e?e.concat(r).map((function(e,r){return e=N(e),!t&&r?"["+e+"]":e})).join(t?".":""):r}const B=L.toFlatObject(L,{},null,(function(e){return/^is[A-Z]/.test(e)}));function M(e,r,t){if(!L.isObject(e))throw new TypeError("target must be an object");r=r||new(x||FormData);const n=(t=L.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,r){return!L.isUndefined(r[e])}))).metaTokens,i=t.visitor||d,s=t.dots,a=t.indexes,o=(t.Blob||"undefined"!=typeof Blob&&Blob)&&(u=r)&&L.isFunction(u.append)&&"FormData"===u[Symbol.toStringTag]&&u[Symbol.iterator];var u;if(!L.isFunction(i))throw new TypeError("visitor must be a function");function p(e){if(null===e)return"";if(L.isDate(e))return e.toISOString();if(!o&&L.isBlob(e))throw new D("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(e)||L.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function d(e,t,i){let o=e;if(e&&!i&&"object"==typeof e)if(L.endsWith(t,"{}"))t=n?t:t.slice(0,-2),e=JSON.stringify(e);else if(L.isArray(e)&&function(e){return L.isArray(e)&&!e.some(j)}(e)||L.isFileList(e)||L.endsWith(t,"[]")&&(o=L.toArray(e)))return t=N(t),o.forEach((function(e,n){!L.isUndefined(e)&&null!==e&&r.append(!0===a?G([t],n,s):null===a?t:t+"[]",p(e))})),!1;return!!j(e)||(r.append(G(i,t,s),p(e)),!1)}const l=[],v=Object.assign(B,{defaultVisitor:d,convertValue:p,isVisitable:j});if(!L.isObject(e))throw new TypeError("data must be an object");return function e(t,n){if(!L.isUndefined(t)){if(-1!==l.indexOf(t))throw Error("Circular reference detected in "+n.join("."));l.push(t),L.forEach(t,(function(t,s){!0===(!(L.isUndefined(t)||null===t)&&i.call(r,t,L.isString(s)?s.trim():s,n,v))&&e(t,n?n.concat(s):[s])})),l.pop()}}(e),r}function z(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return r[e]}))}function W(e,r){this._pairs=[],e&&M(e,this,r)}const H=W.prototype;function J(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function V(e,r,t){if(!r)return e;const n=t&&t.encode||J,i=t&&t.serialize;let s;if(s=i?i(r,t):L.isURLSearchParams(r)?r.toString():new W(r,t).toString(n),s){const r=e.indexOf("#");-1!==r&&(e=e.slice(0,r)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}H.append=function(e,r){this._pairs.push([e,r])},H.toString=function(e){const r=e?function(r){return e.call(this,r,z)}:z;return this._pairs.map((function(e){return r(e[0])+"="+r(e[1])}),"").join("&")};var K=class{constructor(){this.handlers=[]}use(e,r,t){return this.handlers.push({fulfilled:e,rejected:r,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,(function(r){null!==r&&e(r)}))}},X={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$="undefined"!=typeof URLSearchParams?URLSearchParams:W,Q=FormData;const Z=(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),Y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ee={isBrowser:!0,classes:{URLSearchParams:$,FormData:Q,Blob},isStandardBrowserEnv:Z,isStandardBrowserWebWorkerEnv:Y,protocols:["http","https","file","blob","url","data"]};function re(e){function r(e,t,n,i){let s=e[i++];const a=Number.isFinite(+s),o=i>=e.length;return s=!s&&L.isArray(n)?n.length:s,o?(L.hasOwnProp(n,s)?n[s]=[n[s],t]:n[s]=t,!a):(n[s]&&L.isObject(n[s])||(n[s]=[]),r(e,t,n[s],i)&&L.isArray(n[s])&&(n[s]=function(e){const r={},t=Object.keys(e);let n;const i=t.length;let s;for(n=0;n<i;n++)s=t[n],r[s]=e[s];return r}(n[s])),!a)}if(L.isFormData(e)&&L.isFunction(e.entries)){const t={};return L.forEachEntry(e,((e,n)=>{r(function(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,t,0)})),t}return null}const te={"Content-Type":void 0},ne={transitional:X,adapter:["xhr","http"],transformRequest:[function(e,r){const t=r.getContentType()||"",n=t.indexOf("application/json")>-1,i=L.isObject(e);if(i&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return n&&n?JSON.stringify(re(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,r){return M(e,new ee.classes.URLSearchParams,Object.assign({visitor:function(e,r,t,n){return ee.isNode&&L.isBuffer(e)?(this.append(r,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},r))}(e,this.formSerializer).toString();if((s=L.isFileList(e))||t.indexOf("multipart/form-data")>-1){const r=this.env&&this.env.FormData;return M(s?{"files[]":e}:e,r&&new r,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),function(e,r,t){if(L.isString(e))try{return(0,JSON.parse)(e),L.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const r=this.transitional||ne.transitional,t=r&&r.forcedJSONParsing,n="json"===this.responseType;if(e&&L.isString(e)&&(t&&!this.responseType||n)){const t=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(t){if("SyntaxError"===e.name)throw D.from(e,D.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ee.classes.FormData,Blob:ee.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],(function(e){ne.headers[e]={}})),L.forEach(["post","put","patch"],(function(e){ne.headers[e]=L.merge(te)}));var ie=ne;const se=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ae=Symbol("internals");function oe(e){return e&&String(e).trim().toLowerCase()}function ue(e){return!1===e||null==e?e:L.isArray(e)?e.map(ue):String(e)}function pe(e,r,t,n){return L.isFunction(n)?n.call(this,r,t):L.isString(r)?L.isString(n)?-1!==r.indexOf(n):L.isRegExp(n)?n.test(r):void 0:void 0}class de{constructor(e){e&&this.set(e)}set(e,r,t){const n=this;function i(e,r,t){const i=oe(r);if(!i)throw new Error("header name must be a non-empty string");const s=L.findKey(n,i);(!s||void 0===n[s]||!0===t||void 0===t&&!1!==n[s])&&(n[s||r]=ue(e))}const s=(e,r)=>L.forEach(e,((e,t)=>i(e,t,r)));return L.isPlainObject(e)||e instanceof this.constructor?s(e,r):L.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?s((e=>{const r={};let t,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!t||r[t]&&se[t]||("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)})),r})(e),r):null!=e&&i(r,e,t),this}get(e,r){if(e=oe(e)){const t=L.findKey(this,e);if(t){const e=this[t];if(!r)return e;if(!0===r)return function(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(e);)r[n[1]]=n[2];return r}(e);if(L.isFunction(r))return r.call(this,e,t);if(L.isRegExp(r))return r.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=oe(e)){const t=L.findKey(this,e);return!(!t||r&&!pe(0,this[t],t,r))}return!1}delete(e,r){const t=this;let n=!1;function i(e){if(e=oe(e)){const i=L.findKey(t,e);!i||r&&!pe(0,t[i],i,r)||(delete t[i],n=!0)}}return L.isArray(e)?e.forEach(i):i(e),n}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const r=this,t={};return L.forEach(this,((n,i)=>{const s=L.findKey(t,i);if(s)return r[s]=ue(n),void delete r[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,r,t)=>r.toUpperCase()+t))}(i):String(i).trim();a!==i&&delete r[i],r[a]=ue(n),t[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return L.forEach(this,((t,n)=>{null!=t&&!1!==t&&(r[n]=e&&L.isArray(t)?t.join(", "):t)})),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,r])=>e+": "+r)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const t=new this(e);return r.forEach((e=>t.set(e))),t}static accessor(e){const r=(this[ae]=this[ae]={accessors:{}}).accessors,t=this.prototype;function n(e){const n=oe(e);r[n]||(function(e,r){const t=L.toCamelCase(" "+r);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+t,{value:function(e,t,i){return this[n].call(this,r,e,t,i)},configurable:!0})}))}(t,e),r[n]=!0)}return L.isArray(e)?e.forEach(n):n(e),this}}de.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),L.freezeMethods(de.prototype),L.freezeMethods(de);var le=de;function ve(e,r){const t=this||ie,n=r||t,i=le.from(n.headers);let s=n.data;return L.forEach(e,(function(e){s=e.call(t,s,i.normalize(),r?r.status:void 0)})),i.normalize(),s}function ce(e){return!(!e||!e.__CANCEL__)}function he(e,r,t){D.call(this,null==e?"canceled":e,D.ERR_CANCELED,r,t),this.name="CanceledError"}L.inherits(he,D,{__CANCEL__:!0});var fe=ee.isStandardBrowserEnv?{write:function(e,r,t,n,i,s){const a=[];a.push(e+"="+encodeURIComponent(r)),L.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),L.isString(n)&&a.push("path="+n),L.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function me(e,r){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)?function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}(e,r):r}var ye=ee.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let t;function n(t){let n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){const r=L.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0};function ge(e,r){let t=0;const n=function(e,r){e=e||10;const t=new Array(e),n=new Array(e);let i,s=0,a=0;return r=void 0!==r?r:1e3,function(o){const u=Date.now(),p=n[a];i||(i=u),t[s]=o,n[s]=u;let d=a,l=0;for(;d!==s;)l+=t[d++],d%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<r)return;const v=p&&u-p;return v?Math.round(1e3*l/v):void 0}}(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,o=s-t,u=n(o);t=s;const p={loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:u||void 0,estimated:u&&a&&s<=a?(a-s)/u:void 0,event:i};p[r?"download":"upload"]=!0,e(p)}}const ke={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(r,t){let n=e.data;const i=le.from(e.headers).normalize(),s=e.responseType;let a;function o(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}L.isFormData(n)&&(ee.isStandardBrowserEnv||ee.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);let u=new XMLHttpRequest;if(e.auth){const r=e.auth.username||"",t=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(r+":"+t))}const p=me(e.baseURL,e.url);function d(){if(!u)return;const n=le.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,r,t){const n=t.config.validateStatus;t.status&&n&&!n(t.status)?r(new D("Request failed with status code "+t.status,[D.ERR_BAD_REQUEST,D.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}((function(e){r(e),o()}),(function(e){t(e),o()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),V(p,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(t(new D("Request aborted",D.ECONNABORTED,e,u)),u=null)},u.onerror=function(){t(new D("Network Error",D.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let r=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||X;e.timeoutErrorMessage&&(r=e.timeoutErrorMessage),t(new D(r,n.clarifyTimeoutError?D.ETIMEDOUT:D.ECONNABORTED,e,u)),u=null},ee.isStandardBrowserEnv){const r=(e.withCredentials||ye(p))&&e.xsrfCookieName&&fe.read(e.xsrfCookieName);r&&i.set(e.xsrfHeaderName,r)}void 0===n&&i.setContentType(null),"setRequestHeader"in u&&L.forEach(i.toJSON(),(function(e,r){u.setRequestHeader(r,e)})),L.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",ge(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",ge(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=r=>{u&&(t(!r||r.type?new he(null,e,u):r),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const l=function(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}(p);l&&-1===ee.protocols.indexOf(l)?t(new D("Unsupported protocol "+l+":",D.ERR_BAD_REQUEST,e)):u.send(n||null)}))}};L.forEach(ke,((e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch(e){}Object.defineProperty(e,"adapterName",{value:r})}}));function _e(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new he(null,e)}function qe(e){return _e(e),e.headers=le.from(e.headers),e.data=ve.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),(e=>{e=L.isArray(e)?e:[e];const{length:r}=e;let t,n;for(let i=0;i<r&&(t=e[i],!(n=L.isString(t)?ke[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new D(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(L.hasOwnProp(ke,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`)}if(!L.isFunction(n))throw new TypeError("adapter is not a function");return n})(e.adapter||ie.adapter)(e).then((function(r){return _e(e),r.data=ve.call(e,e.transformResponse,r),r.headers=le.from(r.headers),r}),(function(r){return ce(r)||(_e(e),r&&r.response&&(r.response.data=ve.call(e,e.transformResponse,r.response),r.response.headers=le.from(r.response.headers))),Promise.reject(r)}))}const we=e=>e instanceof le?e.toJSON():e;function be(e,r){r=r||{};const t={};function n(e,r,t){return L.isPlainObject(e)&&L.isPlainObject(r)?L.merge.call({caseless:t},e,r):L.isPlainObject(r)?L.merge({},r):L.isArray(r)?r.slice():r}function i(e,r,t){return L.isUndefined(r)?L.isUndefined(e)?void 0:n(void 0,e,t):n(e,r,t)}function s(e,r){if(!L.isUndefined(r))return n(void 0,r)}function a(e,r){return L.isUndefined(r)?L.isUndefined(e)?void 0:n(void 0,e):n(void 0,r)}function o(t,i,s){return s in r?n(t,i):s in e?n(void 0,t):void 0}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,r)=>i(we(e),we(r),!0)};return L.forEach(Object.keys(e).concat(Object.keys(r)),(function(n){const s=u[n]||i,a=s(e[n],r[n],n);L.isUndefined(a)&&s!==o||(t[n]=a)})),t}const Re={};["object","boolean","number","function","string","symbol"].forEach(((e,r)=>{Re[e]=function(t){return typeof t===e||"a"+(r<1?"n ":" ")+e}}));const Ae={};Re.transitional=function(e,r,t){function n(e,r){return"[Axios v1.2.1] Transitional option '"+e+"'"+r+(t?". "+t:"")}return(t,i,s)=>{if(!1===e)throw new D(n(i," has been removed"+(r?" in "+r:"")),D.ERR_DEPRECATED);return r&&!Ae[i]&&(Ae[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),!e||e(t,i,s)}};var Ue={assertOptions:function(e,r,t){if("object"!=typeof e)throw new D("options must be an object",D.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],a=r[s];if(a){const r=e[s],t=void 0===r||a(r,s,e);if(!0!==t)throw new D("option "+s+" must be "+t,D.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new D("Unknown option "+s,D.ERR_BAD_OPTION)}},validators:Re};const Se=Ue.validators;class Ce{constructor(e){this.defaults=e,this.interceptors={request:new K,response:new K}}request(e,r){"string"==typeof e?(r=r||{}).url=e:r=e||{},r=be(this.defaults,r);const{transitional:t,paramsSerializer:n,headers:i}=r;let s;void 0!==t&&Ue.assertOptions(t,{silentJSONParsing:Se.transitional(Se.boolean),forcedJSONParsing:Se.transitional(Se.boolean),clarifyTimeoutError:Se.transitional(Se.boolean)},!1),void 0!==n&&Ue.assertOptions(n,{encode:Se.function,serialize:Se.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase(),s=i&&L.merge(i.common,i[r.method]),s&&L.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),r.headers=le.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(r)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const u=[];let p;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let d,l=0;if(!o){const e=[qe.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,u),d=e.length,p=Promise.resolve(r);l<d;)p=p.then(e[l++],e[l++]);return p}d=a.length;let v=r;for(l=0;l<d;){const e=a[l++],r=a[l++];try{v=e(v)}catch(e){r.call(this,e);break}}try{p=qe.call(this,v)}catch(e){return Promise.reject(e)}for(l=0,d=u.length;l<d;)p=p.then(u[l++],u[l++]);return p}getUri(e){return V(me((e=be(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}L.forEach(["delete","get","head","options"],(function(e){Ce.prototype[e]=function(r,t){return this.request(be(t||{},{method:e,url:r,data:(t||{}).data}))}})),L.forEach(["post","put","patch"],(function(e){function r(r){return function(t,n,i){return this.request(be(i||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:t,data:n}))}}Ce.prototype[e]=r(),Ce.prototype[e+"Form"]=r(!0)}));var Oe=Ce;class Pe{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let r;this.promise=new Promise((function(e){r=e}));const t=this;this.promise.then((e=>{if(!t._listeners)return;let r=t._listeners.length;for(;r-- >0;)t._listeners[r](e);t._listeners=null})),this.promise.then=e=>{let r;const n=new Promise((e=>{t.subscribe(e),r=e})).then(e);return n.cancel=function(){t.unsubscribe(r)},n},e((function(e,n,i){t.reason||(t.reason=new he(e,n,i),r(t.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);-1!==r&&this._listeners.splice(r,1)}static source(){let e;return{token:new Pe((function(r){e=r})),cancel:e}}}var Ie=Pe;const Ee=function e(r){const t=new Oe(r),i=n(Oe.prototype.request,t);return L.extend(i,Oe.prototype,t,{allOwnKeys:!0}),L.extend(i,t,null,{allOwnKeys:!0}),i.create=function(t){return e(be(r,t))},i}(ie);Ee.Axios=Oe,Ee.CanceledError=he,Ee.CancelToken=Ie,Ee.isCancel=ce,Ee.VERSION="1.2.1",Ee.toFormData=M,Ee.AxiosError=D,Ee.Cancel=Ee.CanceledError,Ee.all=function(e){return Promise.all(e)},Ee.spread=function(e){return function(r){return e.apply(null,r)}},Ee.isAxiosError=function(e){return L.isObject(e)&&!0===e.isAxiosError},Ee.mergeConfig=be,Ee.AxiosHeaders=le,Ee.formToJSON=e=>re(L.isHTMLForm(e)?new FormData(e):e),Ee.default=Ee,e.exports=Ee}},r={};function t(n){var i=r[n];if(void 0!==i)return i.exports;var s=r[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{const{SeafileAPI:e}=t(296);class r extends Error{constructor(e,...t){super(...t),Error.captureStackTrace&&Error.captureStackTrace(this,r),this.name="SeafileError",this.date=new Date,this.code=e}}let n=new Map;browser.cloudFile.onFileUpload.addListener((async(t,i,s)=>{console.group("Upload file");let a={abortController:new AbortController},o=i.name,u=i.data;n.set(i.id,a),console.log("File id: ",i.id),console.info("Start uploading of the file: ",o);let{password:p,username:d,server:l}=await(async e=>browser.storage.local.get(e).then((r=>r&&r[e])))(t.id);const v=new e;v.init({server:l,username:d,password:p}),console.info("Login to the server ",l," with username ",d);try{await v.login()}catch(e){return console.error("Can't login !"),console.log(e),console.groupEnd(),{error:"Can't login to your seafile account. Check your internet connection or your credentials."}}let c,h,f=v.token;console.info("Create library thunderbird_attachments on the server if not exist");try{c=await v.listRepos()}catch(e){return console.error("Can't list remote libraries !"),console.log(e),console.groupEnd(),{error:"Can't list the libraries on your seafile account. Check your internet connection."}}function m(e){return"thunderbird_attachments"===e.repo_name}if(void 0===c.data.repos.find(m))try{let e={name:"thunderbird_attachments"};v.createMineRepo(e)}catch(e){return console.error("Can't create the attachment library !"),console.log(e),console.groupEnd(),{error:"Can't create the library. Check your internet connection."}}c=await v.listRepos(),h=c.data.repos.find(m).repo_id;let y,g=await v.getFileServerUploadLink(h,"/");try{y=await async function(e,t,n,i){let s=new FormData;s.append("filename",t),s.append("parent_dir","/"),s.append("file",n);let a={Authorization:`Token ${i}`,Accept:"application/json",mode:"cors"},o=await fetch(e,{method:"POST",headers:a,body:s});if(o.ok)return(await o.json())[0];await async function(e){try{let t=await e.json();throw new r(e.status,t)}catch(t){throw new r(e.status,e.statusText)}}(o)}(g.data,o,u,f)}catch(e){return console.error("Can't upload the file !"),console.log(e),console.groupEnd(),{error:"Can't upload the file. Check your internet connection."}}o=y.name,console.info("Create share link");try{await v.createShareLink(h,`/${o}`)}catch(e){return console.log("Can't create the share link !"),console.error(e),console.groupEnd(),{error:"Can't create the share link. Check your internet connection."}}let k=await v.getShareLink(h,`/${o}`);return delete a.abortcontroller,console.groupEnd(),{url:`${k.data[0].link}?dl=1`}})),browser.cloudFile.onFileUploadAbort.addListener(((e,r)=>{console.info("File upload is getting aborted");let t=n.get(r);t&&t.abortController&&(console.info("Abort abort !!"),t.abortController.abort())})),browser.cloudFile.onFileDeleted.addListener(((e,r,t)=>{console.info("File deleted "+JSON.stringify(r)),console.log(r)})),browser.cloudFile.getAllAccounts().then((async e=>{let r=await browser.storage.local.get();for(let t of e)await browser.cloudFile.updateAccount(t.id,{configured:t.id in r})})),browser.cloudFile.onAccountAdded.addListener((e=>{console.info("Account has been added :"+JSON.stringify(e))}))})()})();